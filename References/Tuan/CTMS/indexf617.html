<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

	
<!-- Mirrored from ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=SystemModeling by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:07:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>

		<script type="text/javascript" src="jquery.js"></script>
					
		<link rel='stylesheet' type='text/css' href='style.css' />
		<script type="text/javascript">
	
			var example = "Introduction"; 
			var section = "SystemModeling"; 
			var aux = ""; 
			var effects = Boolean(1); 
			var tips = Boolean(1); 
			$.fx.off = !effects;
			
			$(document).keydown(function(e){
				if (!$("#search_field").is(":focus")){
					if (e.keyCode == 39) { 
						window.location = "indexa13b.html?example=Introduction&amp;section=SystemAnalysis";
					}
					if (e.keyCode == 37) { 
						window.history.back()
					}
				}
			});		
			
		</script>
			
		<meta http-equiv="Content-Type" Content="text/html; charset=utf-8" />
		<meta http-equiv="PRAGMA" Content="NO-CACHE" />
		
		<title>Control Tutorials for MATLAB and Simulink - Introduction: System Modeling</title>
			
	</head>

	<body>
	
		
		<div id="container">
		
			<form id="search_form"><input id="search_field" type="text" name="q" placeholder="Search Control Tutorials"/></form>
			<form class="option_form" method="post" onclick="submit()"><div>Effects</div><input type="hidden" name="effects" value="0"/><input type="checkbox" name="effects" value="1" checked='true' /></form>
			<form class="option_form" method="post" onclick="submit()"><div>Tips</div><input type="hidden" name="tips" value="0"/><input type="checkbox" name="tips" value="1" checked='true' /></form>	
				
			<div style="clear:both"></div>
		
			<div id="header">
		
				

				
				
				<div id="menu_container">
				
					<ul class="menu">
						<li class="heading" id="Tips"><a href="index80e7.html?aux=Extras_Tips">TIPS</a></li>
						<div class="collapse"><div class="expand">
						</div></div>
					</ul>
				
					<ul class="menu">
						<li class="heading" id="About"><a>ABOUT</a></li>
						<div class="collapse"><div class="expand">
							<li class="item" id="About_Tutorials"><a href="index64fe.html?aux=About_Tutorials">Tutorials</a></li>
							<li class="item" id="About_Contact"><a href="mailto:ControlTutorialsMatlabSimulink@gmail.com">Contact</a></li>
						</div></div>
					</ul>
					
					<ul class="menu">
						<li class="heading" id="Basics"><a>BASICS</a></li>
						<div class="collapse"><div class="expand">
							<li class="item" id="Basics_Matlab"><a href="index87b6.html?aux=Basics_Matlab">MATLAB</a></li>
							<li class="item" id="Basics_Simulink"><a href="indexe9ea.html?aux=Basics_Simulink">Simulink</a></li>
						</div></div>
					</ul>
					
					<ul class="menu">
						<li class="heading" id="Index"><a>INDEX</a></li>
						<div class="collapse"><div class="expand">
							<li class="item" id="Index_Tutorials"><a href="index5e52.html?aux=Index_Tutorials">Tutorials</a></li>
							<li class="item" id="Index_Commands"><a href="index111e.html?aux=Index_Commands">Commands</a></li>
							<li class="item" id="Index_Animations"><a href="indexc3c5.html?aux=Index_Animations">Animations</a></li>
							<li class="item" id="Index_Extras"><a href="indexb290.html?aux=Index_Extras">Extras</a></li>
						</div></div>
					</ul>
									
					<ul class="menu">
						<li class="heading" id="Next"><a href="indexa13b.html?example=Introduction&amp;section=SystemAnalysis">NEXT&nbsp;&#x25BA;</a></li>
						<div class="collapse"><div class="expand">
						</div></div>
					</ul>
											
				</div>

			</div>
			
			<div id="body_container">
			
				<div id="gradient_container"></div>
			
				<div id="top">
				
					<a href="index1304.html?aux=Home"><img id="CTMS_logo" src="Images/CTMS_logo.png"></a>
				
					<ul class="example">
					
						<li class="item" id="Introduction"><a href="indexf617.html?example=Introduction&amp;section=SystemModeling"><img class="icon" src="Images/Introduction_Icon.png"><div class="tab">INTRODUCTION</div></a></li>
						<li class="item" id="CruiseControl"><a href="index9b00.html?example=CruiseControl&amp;section=SystemModeling"><img class="icon" src="Images/CruiseControl_Icon.png"><div class="tab">CRUISE&nbsp;CONTROL</div></a></li>
						<li class="item" id="MotorSpeed"><a href="index9e20.html?example=MotorSpeed&amp;section=SystemModeling"><img class="icon" src="Images/MotorSpeed_Icon.png"><div class="tab">MOTOR&nbsp;SPEED</div></a></li>
						<li class="item" id="MotorPosition"><a href="index9ba6.html?example=MotorPosition&amp;section=SystemModeling"><img class="icon" src="Images/MotorPosition_Icon.png"><div class="tab">MOTOR&nbsp;POSITION</div></a></li>
						<li class="item" id="Suspension"><a href="index7abe.html?example=Suspension&amp;section=SystemModeling"><img class="icon" src="Images/Suspension_Icon.png"><div class="tab">SUSPENSION</div></a></li>
						<li class="item" id="InvertedPendulum"><a href="indexdeb1.html?example=InvertedPendulum&amp;section=SystemModeling"><img class="icon" src="Images/InvertedPendulum_Icon.png"><div class="tab">INVERTED&nbsp;PENDULUM</div></a></li>
						<li class="item" id="AircraftPitch"><a href="index1987.html?example=AircraftPitch&amp;section=SystemModeling"><img class="icon" src="Images/AircraftPitch_Icon.png"><div class="tab">AIRCRAFT&nbsp;PITCH</div></a></li>
						<li class="item" id="BallBeam"><a href="index9ee5.html?example=BallBeam&amp;section=SystemModeling"><img class="icon" src="Images/BallBeam_Icon.png"><div class="tab">BALL&nbsp;&amp;&nbsp;BEAM</div></a></li>
					
					</ul> 
		
				</div>
				
				<div id="content_container">
					<div class="content">
   <div class="content_fx">
      <h1>Introduction: System Modeling</h1>
      <!--introduction-->
      <p>The first step in the control design process is to develop appropriate mathematical models of the system derived either from
         physical laws or experimental data. In this section, we introduce the state-space and transfer function representations of
         dynamic systems. We then review some basic approaches to modeling mechanical and electrical systems and show how to enter
         these models into MATLAB for further analysis.
      </p>
      <p>Key MATLAB commands used in this tutorial are: <a href="http://www.mathworks.com/help/toolbox/control/ref/ss.html"><tt>ss</tt></a> , <a href="http://www.mathworks.com/help/toolbox/control/ref/tf.html"><tt>tf</tt></a></p>
      <!--/introduction-->
      <h2>Contents</h2>
      <div>
         <ul>
            <li><a href="#1">Dynamic Systems</a></li>
            <li><a href="#2">State-Space Representation</a></li>
            <li><a href="#3">Transfer Function Representation</a></li>
            <li><a href="#4">Mechanical Systems</a></li>
            <li><a href="#5">Example: Mass-Spring-Damper System</a></li>
            <li><a href="#6">Entering State-Space Models into MATLAB</a></li>
            <li><a href="#10">Entering Transfer Function Models into MATLAB</a></li>
            <li><a href="#14">Electrical Systems</a></li>
            <li><a href="#15">Example: RLC Circuit</a></li>
            <li><a href="#16">System Identification</a></li>
            <li><a href="#17">System Conversions</a></li>
         </ul>
      </div>
      <h2>Dynamic Systems<a name="1"></a></h2>
      <p><b>Dynamic systems</b> are systems that change or evolve in time according to a fixed rule. For many physical systems, this rule can be stated as
         a set of first-order differential equations:
      </p>
      <p><span class="eqn_num">(1)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq67028.png" alt="$$&#xA;\dot{\mathbf{x}} = \frac{d\mathbf{x}}{dt} = \mathbf{f}\left( \mathbf{x}(t), \mathbf{u}(t), t \right)&#xA;$$"></p>
      <p>In the above equation, <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq38159.png" alt="$\mathbf{x}(t)$"> is the <b>state vector</b>, a set of variables representing the configuration of the system at time <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq07064.png" alt="$t$">. For instance in a simple mechanical mass-spring-damper system, the two state variables could be the position and velocity
         of the mass. <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq29727.png" alt="$\mathbf{u}(t)$"> is the vector of control inputs at time <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq07064.png" alt="$t$">, representing the externally applied "forces" on the system, and <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq31057.png" alt="$\mathbf{f}$"> is a possibly nonlinear function giving the time derivative (rate of change) of the state vector, <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq96816.png" alt="$d\mathbf{x}/dt$"> for a particular state, input, and time.
      </p>
      <p>The state at any future time, <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq13508.png" alt="$\mathbf{x}(t_1)$">, may be determined exactly given knowledge of the initial state, <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq80511.png" alt="$\mathbf{x}(t_0)$">, and the time history of the inputs, <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq29727.png" alt="$\mathbf{u}(t)$">, between <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq34443.png" alt="$t_0$"> and <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq11102.png" alt="$t_1$"> by integrating Eq.(1). Though the state variables themselves are not unique, there is a minimum number of state variables,
         <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq25947.png" alt="$n$">, required in a given system for the above to hold true. <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq25947.png" alt="$n$"> is referred to as the <b>system order</b> and determines the dimensionality of the <b>state-space</b>. The system order usually corresponds to the number of independent energy storage elements in the system.
      </p>
      <p>The relationship given in Eq.(1) is very general and can be used to describe a wide variety of different systems; unfortunately,
         it may be very difficult to analyze. There are two common simplifications which make the problem more tractable. First, if
         the function, <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq31057.png" alt="$\mathbf{f}$">, does not depend explicitly on time, i.e. <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq50824.png" alt="$\dot{\mathbf{x}} = \mathbf{f}(\mathbf{x},\mathbf{u})$">, then the system is said to be <b>time invariant</b>. This is often a very reasonable assumption, since the underlying physical laws themselves do not typically depend on time.
         For time invariant systems, the parameters or coefficients of the function, <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq31057.png" alt="$\mathbf{f}$">, are constant. The control input, however, may still be time dependent, <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq29727.png" alt="$\mathbf{u}(t)$">.
      </p>
      <p>The second common assumption concerns the linearity of the system. In reality, nearly every physical system is nonlinear.
         In other words, <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq31057.png" alt="$\mathbf{f}$"> is typically some complicated function of the state and inputs. These nonlinearities arise in many different ways, one of
         the most common in control systems being "saturation" in which an element of the system reaches a hard physical limit to its
         operation. Fortunately, over a sufficiently small operating range (think tangent line near a curve), the dynamics of most
         systems are approximately <b>linear</b>, that is <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq60361.png" alt="$\dot{\mathbf{x}} = \mathbf{Ax} + \mathbf{Bu}$">.
      </p>
      <p>Until the advent of digital computers (and to a large extent thereafter), it was only practical to analyze <b>linear time invariant (LTI)</b> systems. Consequently, most of the results of control theory are based on these assumptions. Fortunately, as we shall see,
         these results have proven to be remarkably effective and many significant engineering challenges have been solved using LTI
         techniques. In fact, the true power of feedback control systems are that they work (are <b>robust</b>) in the presence of the unavoidable modeling uncertainty.
      </p>
      <h2>State-Space Representation<a name="2"></a></h2>
      <p>For continuous linear time invariant (LTI) systems, the standard state-space representation is given below:</p>
      <p><span class="eqn_num">(2)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq74517.png" alt="$$&#xA;\dot{\mathbf{x}} = \mathbf{Ax} + \mathbf{Bu}&#xA;$$"></p>
      <p><span class="eqn_num">(3)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq54408.png" alt="$$&#xA;\mathbf{y} = \mathbf{Cx} + \mathbf{Du}&#xA;$$"></p>
      <p>where <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq60671.png" alt="$\mathbf{x}$"> is the vector of state variables (nx1), <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq12686.png" alt="$\dot{\mathbf{x}}$"> is the time derivative of state vector (nx1), <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq85330.png" alt="$\mathbf{u}$"> is the input or control vector (px1), <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq49998.png" alt="$\mathbf{y}$"> is the output vector (qx1), <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq53374.png" alt="$\mathbf{A}$"> is the system matrix (nxn), <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq68788.png" alt="$\mathbf{B}$"> is the input matrix (nxp), <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq50346.png" alt="$\mathbf{C}$"> is the output matrix (qxn), <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq76245.png" alt="$\mathbf{D}$"> is the feedforward matrix (qxp).
      </p>
      <p>The output equation, Eq.(3), is necessary because often there are state variables which are not directly observed or are otherwise
         not of interest.  The output matrix, <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq50346.png" alt="$\mathbf{C}$">, is used to specify which state variables (or combinations thereof) are available for use by the controller. Also often there
         is no direct feedforward in which case <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq76245.png" alt="$\mathbf{D}$"> is the zero matrix.
      </p>
      <p>The state-space representation, also referred to as the time-domain representation, can easily handle <b>multi-input/multi-output (MIMO)</b> systems, systems with non-zero initial conditions, and nonlinear systems via Eq.(1). Consequently, the state-space representation
         is used extensively in "modern" control theory.
      </p>
      <h2>Transfer Function Representation<a name="3"></a></h2>
      <p>LTI systems have the extremely important property that if the input to the system is sinusoidal, then the output will also
         be sinusoidal at the same frequency but in general with different magnitude and phase. These magnitude and phase differences
         as a function of frequency are known as the <b>frequency response</b> of the system.
      </p>
      <p>Using the <b>Laplace transform</b>, it is possible to convert a system's time-domain representation into a frequency-domain output/input representation, known
         as the <b>transfer function</b>.  In so doing, it also transforms the governing differential equation into an algebraic equation which is often easier to
         analyze.
      </p>
      <p>The Laplace transform of a time domain function, <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq13319.png" alt="$f(t)$">, is defined below:
      </p>
      <p><span class="eqn_num">(4)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq83471.png" alt="$$&#xA;F(s) = \mathcal{L}\{f(t)\} = \int_0^\infty e^{-st}f(t)dt&#xA;$$"></p>
      <p>where the parameter <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq09395.png" alt="$s=\sigma+j\omega$"> is a complex frequency variable. It is very rare in practice that you will have to directly evaluate a Laplace transform
         (though you should certainly know how). It is much more common to look up the transform of the function you are interested
         in in a table such as the one found here: <a href="http://en.wikipedia.org/wiki/Laplace_transform#Table_of_selected_Laplace_transforms">Laplace Transform Table</a></p>
      <p>The Laplace transform of the nth derivative of a function is particularly important:</p>
      <p><span class="eqn_num">(5)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq68112.png" alt="$$&#xA;\mathcal{L}\left\{ \frac{d^nf}{dt^n} \right\} = s^n F(s)- s^{n-1} f(0) - s^{n-2} \dot{f}(0) - ... - f^{(n-1)}(0)&#xA;$$"></p>
      <p>Frequency-domain methods are most often used for analyzing LTI <b>single-input/single-output (SISO)</b> systems, e.g. those governed by a constant coefficient differential equation as follows:
      </p>
      <p><span class="eqn_num">(6)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq29910.png" alt="$$&#xA;a_n \frac{d^ny}{dt^n} + ... + a_1 \frac{dy}{dt} + a_0 y(t) = b_m \frac{d^mu}{dt^m} + ... + b_1 \frac{du}{dt} + b_0 u(t)&#xA;$$"></p>
      <p>The Laplace transform of this equation is given below:</p>
      <p><span class="eqn_num">(7)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq56136.png" alt="$$&#xA;a_n s^n Y(s) + ... + a_1 sY(s)+ a_0 Y(s) = b_m s^m U(s) + ... + b_1 sU(s)+ b_0 U(s)&#xA;$$"></p>
      <p>where <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq29113.png" alt="$Y(s)$"> and <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq95475.png" alt="$U(s)$"> are the Laplace Transforms of <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq16417.png" alt="$y(t)$"> and <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq70481.png" alt="$u(t)$"> respectively. Note that when finding transfer functions, we always assume that the each of the initial conditions, <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq90961.png" alt="$y(0)$">, <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq94519.png" alt="$\dot{y}(0)$">, <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq74810.png" alt="$u(0)$">, etc. is zero. The transfer function from input <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq95475.png" alt="$U(s)$"> to output <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq29113.png" alt="$Y(s)$"> is therefore:
      </p>
      <p><span class="eqn_num">(8)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq81588.png" alt="$$&#xA;G(s) = \frac{Y(s)}{U(s)} = \frac{b_m s^m + b_{m-1} s^{m-1} + ... + b_1 s + b_0}{a_n s^n + a_{n-1} s^{n-1} + ... + a_1 s + a_0}&#xA;$$"></p>
      <p>It is useful to factor the numerator and denominator of the transfer function into the so called <b>zero-pole-gain</b> form:
      </p>
      <p><span class="eqn_num">(9)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq85046.png" alt="$$&#xA;G(s) = \frac{N(s)}{D(s)} = K \frac{(s-z_1)(s-z_2)...(s-z_{m-1})(s-z_m)}{(s-p_1)(s-p_2)...(s-p_{n-1})(s-p_n)}&#xA;$$"></p>
      <p>The <b>zeros</b> of the transfer function, <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq46885.png" alt="$z_1...z_m$">, are the roots of the numerator polynomial, i.e. the values of s such that <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq98905.png" alt="$N(s)=0$">. The <b>poles</b> of the transfer function, <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq37273.png" alt="$p_1...p_n$">, are the roots of the denominator polynomial, i.e. the values of s such that <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq52136.png" alt="$D(s)=0$">. Both the zeros and poles may be complex valued (have both real and imaginary parts). The system <b>Gain</b> is <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq13533.png" alt="$K = b_m/a_n$">.
      </p>
      <p>Note that we can also determine the transfer function directly form the state-space representation as follows:</p>
      <p><span class="eqn_num">(10)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq25744.png" alt="$$&#xA;G(s) = \frac{Y(s)}{U(s)} = \mathbf{C}(s\mathbf{I}-\mathbf{A})^{-1}\mathbf{B}+\mathbf{D}&#xA;$$"></p>
      <h2>Mechanical Systems<a name="4"></a></h2>
      <p>Newton's laws of motion form the basis for analyzing mechanical systems. <b>Newton&#8217;s second law</b>, Eq. (11), states that the sum of the forces acting on a body equals its mass times acceleration. <b>Newton's third law</b>, for our purposes, states that if two bodies are connected, then they experience the same magnitude force acting in opposite
         directions.
      </p>
      <p><span class="eqn_num">(11)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq22372.png" alt="$$&#xA;\Sigma \mathbf{F} = m \mathbf{a} = m \frac{d^2 \mathbf{x}}{dt^2}&#xA;$$"></p>
      <p>When applying this equation, it is best to construct a <b>free body diagram (FBD)</b> of the sysetm showing all applied forces.
      </p>
      <h2>Example: Mass-Spring-Damper System<a name="5"></a></h2>
      <p><img class="figure"vspace="5" hspace="5" src="Content/Introduction/System/Modeling/figures/mass_spring_damper.png" alt=""> </p>
      <p>The free body diagram for this system is shown below.  The spring force is proportional to the displacement of the mass, <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq43551.png" alt="$x$">, and the viscous damping force is proportional to the velocity of the mass, <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq27588.png" alt="$v=\dot{x}$">.  Both forces oppose the motion of the mass and are therefore shown in the negative <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq43551.png" alt="$x$">-direction.  Note also, that <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq02368.png" alt="$x=0$"> corresponds to the position of the mass when the spring is unstretched.
      </p>
      <p><img class="figure"vspace="5" hspace="5" src="Content/Introduction/System/Modeling/figures/mass_spring_damper_FBD.png" alt=""> </p>
      <p>Now we proceed by summing the forces and applying Newton&#8217;s second law, Eq. (11), in each direction of the problem.  In this
         case, there are no forces acting in the <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq44020.png" alt="$y$">-direction; however, in the <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq43551.png" alt="$x$">-direction we have:
      </p>
      <p><span class="eqn_num">(12)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq54224.png" alt="$$&#xA;\Sigma F_x = F(t) - b \dot{x} - k x = m \ddot{x}&#xA;$$"></p>
      <p>This equation, known as the <b>governing equation</b>, completely characterizes the dynamic state of the system.  Later, we will see how to use this to calculate the response
         of the system to any external input, <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq72668.png" alt="$F(t)$">, as well as analyze system properties such as stability and performance.
      </p>
      <p>To determine the state-space representation of the mass-spring-damper system, we must reduce the second order governing equation
         to a set of two first order differential equations. To this end, we choose the position and velocity as our state variables.
      </p>
      <p><span class="eqn_num">(13)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq94007.png" alt="$$&#xA;\mathbf{x} = \left[ \begin{array}{c} x \\ \dot{x} \end{array}\right]&#xA;$$"></p>
      <p>Note also that these state variables correspond to the potential energy in the spring and the kinetic energy of the mass 
         respectively.  Often when choosing state variables it is helpful to consider the independent energy storage elements in the
         system.
      </p>
      <p>The state equation in this case is as follows:</p>
      <p><span class="eqn_num">(14)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq71952.png" alt="$$&#xA;\mathbf{\dot{x}} = \left[ \begin{array}{c} \dot{x} \\ \ddot{x} \end{array} \right] = \left[ \begin{array}{cc} 0 &amp; 1 \\ -\frac{k}{m}  &amp; -\frac{b}{m} \end{array} \right] \left[ \begin{array}{c} x \\ \dot{x} \end{array} \right] + \left[ \begin{array}{c} 0 \\ \frac{1}{m} \end{array} \right] F(t)&#xA;$$"></p>
      <p>If, for instance, we are interested in controlling the position of the mass, then the output equation is as follows:</p>
      <p><span class="eqn_num">(15)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq52022.png" alt="$$&#xA;y = \left[ \begin{array}{cc} 1 &amp; 0 \end{array} \right] \left[ \begin{array}{c} x \\ \dot{x} \end{array} \right]&#xA;$$"></p>
      <h2>Entering State-Space Models into MATLAB<a name="6"></a></h2>
      <p>Now we will show you how to enter the equations derived above into a <tt>m-file</tt> for MATLAB.  Let's assign numerical values to each of the variables.
      </p><pre class="codeinput">m                   <span class="string">mass</span>                                    <span class="string">1.0</span> <span class="string">kg</span>
k                   <span class="string">spring</span> <span class="string">constant</span>                         <span class="string">1.0</span> <span class="string">N/m</span>
b                   <span class="string">damping</span> <span class="string">constant</span>                        <span class="string">0.2</span> <span class="string">Ns/m</span>
F                   <span class="string">input</span> <span class="string">force</span>                             <span class="string">1.0</span> <span class="string">N</span>
</pre><p>Create a new <tt>m-file</tt> and enter the following commands.
      </p><pre class="codeinput">m = 1;
k = 1;
b = 0.2;
F = 1;

A = [0 1; -k/m -b/m];
B = [0 1/m]';
C = [1 0];
D = [0];

sys = ss(A,B,C,D)
</pre><pre class="codeoutput">
sys =
 
  a = 
         x1    x2
   x1     0     1
   x2    -1  -0.2
 
  b = 
       u1
   x1   0
   x2   1
 
  c = 
       x1  x2
   y1   1   0
 
  d = 
       u1
   y1   0
 
Continuous-time state-space model.

</pre><p>The Laplace transform for this system assuming zero initial conditions is</p>
      <p><span class="eqn_num">(16)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq22992.png" alt="$$&#xA;m s^2 X(s) + b s X(s) + k X(s) = F(s)&#xA;$$"></p>
      <p>and therefore the transfer function from force input to displacement output is</p>
      <p><span class="eqn_num">(17)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq24935.png" alt="$$&#xA;\frac{X(s)}{F(s)} = \frac{1}{m s^2 + b s + k}&#xA;$$"></p>
      <h2>Entering Transfer Function Models into MATLAB<a name="10"></a></h2>
      <p>Now we will show how to enter the transfer function derived above into MATLAB. Enter the following commands into the <tt>m-file</tt> in which you defined the system parameters.
      </p><pre class="codeinput">s = tf(<span class="string">'s'</span>);
sys = 1/(m*s^2+b*s+k)
</pre><pre class="codeoutput">
sys =
 
         1
  ---------------
  s^2 + 0.2 s + 1
 
Continuous-time transfer function.

</pre><p>Note that we have used the symbolic <tt>s</tt> variable here to define our transfer function model.  We recommend using this method most of the time; however, in some circumstances,
         for instance in older versions of MATLAB or when interfacing with SIMULINK, you may need to define the transfer function model
         using the numerator and denominator polynomial coefficients directly.  In these cases, use the following commands:
      </p><pre class="codeinput">num = [1];
den = [m b k];
sys = tf(num,den)
</pre><pre class="codeoutput">
sys =
 
         1
  ---------------
  s^2 + 0.2 s + 1
 
Continuous-time transfer function.

</pre><h2>Electrical Systems<a name="14"></a></h2>
      <p>Like Newton&#8217;s laws in mechanical systems, Kirchoff&#8217;s circuit laws are the basic analytical tool in electrical systems.  <b>Kirchoff&#8217;s current law (KCL)</b> states that the sum of the electrical currents entering and exiting a node in a circuit must be equal. <b>Kirchoff&#8217;s voltage law (KVL)</b> states that the sum of voltage differences around any closed loop in the circuit is zero.  When applying KVL, the source
         voltages are typically taken as positive and the load voltages taken as negative.
      </p>
      <h2>Example: RLC Circuit<a name="15"></a></h2>
      <p>We will now consider a simple series combination of three passive electrical elements: a resistor, an inductor, and a capacitor,
         known as an <b>RLC Circuit</b>.
      </p>
      <p><img class="figure"vspace="5" hspace="5" src="Content/Introduction/System/Modeling/figures/RLC.png" alt=""> </p>
      <p>Since this circuit is a single loop, each node only has one input and output; therefore, application of KCL simply shows that
         the current is the same throughout the circuit at any given time, <img class="inline_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq83482.png" alt="$i(t)$">.  Now applying KVL around the loop and using the sign conventions indicated in the diagram, we arrive at the following governing
         equation.
      </p>
      <p><span class="eqn_num">(18)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq22627.png" alt="$$&#xA;V(t) - L \frac{di}{dt} - R i - \frac{1}{C} \int i dt = 0&#xA;$$"></p>
      <p>We note that that the governing equation for the RLC circuit has an analogous form to the mass-spring-damper mechanical system.
         In particular, they are both second order systems where the charge (integral of current) corresponds to displacement, the
         inductance to mass, the resistance to viscous damping, and the inverse capacitance to the spring stiffness.  These analogies
         and others like them turn out to be quite useful conceptually in understanding the behavior of dynamical systems.
      </p>
      <p>The state-space representation is found by choosing the charge and current as the state variables.</p>
      <p><span class="eqn_num">(19)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq83731.png" alt="$$&#xA;\mathbf{x} = \left[ \begin{array}{c} q \\ i \end{array}\right]&#xA;$$"></p>
      <p>where,</p>
      <p><span class="eqn_num">(20)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq95166.png" alt="$$&#xA;q = \int i dt&#xA;$$"></p>
      <p>The state equation is therefore:</p>
      <p><span class="eqn_num">(21)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq34982.png" alt="$$&#xA;\mathbf{\dot{x}} = \left[ \begin{array}{c} i \\ \frac{di}{dt} \end{array} \right] = \left[ \begin{array}{cc} 0 &amp; 1 \\ -\frac{R}{L}  &amp; -\frac{1}{LC}  \end{array} \right] \left[ \begin{array}{c} q \\ i \end{array} \right] + \left[ \begin{array}{c} 0 \\ \frac{1}{L} \end{array} \right] V(t)&#xA;$$"></p>
      <p>We choose the current as ouput as follows:</p>
      <p><span class="eqn_num">(22)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq68859.png" alt="$$&#xA;y = \left[ \begin{array}{cc} 0 &amp; 1 \end{array} \right] \left[ \begin{array}{c} q \\ i \end{array} \right]&#xA;$$"></p>
      <p>The transfer function representation may be found by taking the Laplace transform as we did for the mass-spring-damper or
         from the state-space equation as follows:
      </p>
      <p><span class="eqn_num">(23)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq58086.png" alt="$$&#xA;\frac{I(s)}{V(s)} = \mathbf{C}(s&#xA;\mathbf{I}-\mathbf{A})^{-1}\mathbf{B}+\mathbf{D}&#xA;= \left[ \begin{array}{cc} 0 &amp; 1 \end{array} \right]&#xA;\left( s \left[ \begin{array}{cc} 1 &amp; 0 \\ 0 &amp; 1 \end{array} \right] - \left[&#xA;\begin{array}{cc} 0 &amp; 1 \\ -\frac{1}{LC} &amp; -\frac{R}{L} \end{array} \right] \right)^{-1} \left[ \begin{array}{c} 0 \\ \frac{1}{L} \end{array} \right]&#xA;$$"></p>
      <p><span class="eqn_num">(24)</span><img class="display_eqn" src="Content/Introduction/System/Modeling/html/Introduction_SystemModeling_eq63221.png" alt="$$&#xA;\frac{I(s)}{V(s)} = \frac{s}{Ls^2+Rs+\frac{1}{C}}&#xA;$$"></p>
      <p>The RLC state-space and transfer fcuntion models can be entered into MATLAB using the same procedure as discussed for the
         mass-spring-damper system above.
      </p>
      <h2>System Identification<a name="16"></a></h2>
      <p>In this section, we have seen how to model systems using basic physical principles; however, often this is not possible either
         because the parameters of the system are uncertain, or the underlying processes are simply not known.  In these cases, we
         must rely on experimental measurements and statistical techniques to develop a system model, a process known as system identification.
      </p>
      <p>System identification may be performed using either time-domain or frequency-domain data, see the <a href="index3246.html?aux=Extras_Identification">Introduction: System Identification</a> page.
      </p>
      <p>Also refer to MATLAB&#8217;s <a href="http://www.mathworks.com/products/sysid/">System Identification Toolbox</a> for more information on this subject.
      </p>
      <h2>System Conversions<a name="17"></a></h2>
      <p>Most operations in MATLAB can be performed on either the transfer function, the state-space model, or the zero-pole-gain form.
         Furthermore, it is simple to transfer between these if the other form of representation is required. If you need to learn
         how to convert from one representation to the other, see the <a href="index3f2a.html?aux=Extras_Conversions">Introduction: System Conversions</a> page.
      </p>
      <p class="footer"><br>
         Published with MATLAB&reg; 7.14<br></p>
   </div>
</div>
<!--
##### SOURCE BEGIN #####
%% Introduction: System Modeling
%
% The first step in the control design process is to develop appropriate
% mathematical models of the system derived either from physical laws or 
% experimental data. In this section, we introduce the state-space and
% transfer function representations of dynamic systems. We then review some
% basic approaches to modeling mechanical and electrical systems and show
% how to enter these models into MATLAB for further analysis.
%
% Key MATLAB commands used in this tutorial are:
% <http://www.mathworks.com/help/toolbox/control/ref/ss.html |ss|> , 
% <http://www.mathworks.com/help/toolbox/control/ref/tf.html |tf|>
%
%% Dynamic Systems
%
% *Dynamic systems* are systems that change or evolve in time according to 
% a fixed rule. For many physical systems, this rule can be stated as a set
% of first-order differential equations:
%
% $$ 
% \dot{\mathbf{x}} = \frac{d\mathbf{x}}{dt} = \mathbf{f}\left( \mathbf{x}(t), \mathbf{u}(t), t \right)
% $$
%
% In the above equation, $\mathbf{x}(t)$ is the *state vector*, a set of 
% variables representing the configuration of the system at time $t$. For 
% instance in a simple mechanical mass-spring-damper system, the two state 
% variables could be the position and velocity of the mass. $\mathbf{u}(t)$ 
% is the vector of control inputs at time $t$, representing the externally 
% applied "forces" on the system, and $\mathbf{f}$ is a 
% possibly nonlinear function giving the time derivative (rate of change) 
% of the state vector, $d\mathbf{x}/dt$ for a particular state, input, and time.
%
% The state at any future time, $\mathbf{x}(t_1)$, may be determined exactly 
% given knowledge of the initial state, $\mathbf{x}(t_0)$, and the time history 
% of the inputs, $\mathbf{u}(t)$, between $t_0$ and $t_1$ by integrating Eq.(1). 
% Though the state variables themselves are not unique, there is a minimum 
% number of state variables, $n$, required in a given system for the above to hold 
% true. $n$ is referred to as the *system order* and determines the
% dimensionality of the *state-space*. The system order usually corresponds 
% to the number of independent energy storage elements in the system.
%
% The relationship given in Eq.(1) is very general and can be used to describe 
% a wide variety of different systems; unfortunately, it may be very
% difficult to analyze. There are two common simplifications which 
% make the problem more tractable. First, if the function, $\mathbf{f}$, does not depend
% explicitly on time, i.e. $\dot{\mathbf{x}} = \mathbf{f}(\mathbf{x},\mathbf{u})$,
% then the system is said to be *time invariant*. This is often a very reasonable 
% assumption, since the underlying physical laws themselves do not typically 
% depend on time. For time invariant systems, the parameters or coefficients 
% of the function, $\mathbf{f}$, are constant. The control input, however,
% may still be time dependent, $\mathbf{u}(t)$. 
%
% The second common assumption concerns the linearity of the system. 
% In reality, nearly every physical system is nonlinear. In other words, 
% $\mathbf{f}$ is typically some complicated function of the state and inputs.
% These nonlinearities arise in many different ways, one of the most
% common in control systems being "saturation" in which an element
% of the system reaches a hard physical limit to its operation. Fortunately, 
% over a sufficiently small operating range (think tangent line near a curve), 
% the dynamics of most systems are approximately *linear*, that is
% $\dot{\mathbf{x}} = \mathbf{Ax} + \mathbf{Bu}$. 
%
% Until the advent of digital computers (and to a large extent thereafter),
% it was only practical to analyze *linear time invariant (LTI)* systems.
% Consequently, most of the results of control theory are based on these 
% assumptions. Fortunately, as we shall see, these results have proven to be 
% remarkably effective and many significant engineering challenges have been 
% solved using LTI techniques. In fact, the true power of feedback control 
% systems are that they work (are *robust*) in the presence of the unavoidable 
% modeling uncertainty.
%
%% State-Space Representation
%
% For continuous linear time invariant (LTI) systems, the standard state-space
% representation is given below:
%
% $$ 
% \dot{\mathbf{x}} = \mathbf{Ax} + \mathbf{Bu}
% $$
%
% $$ 
% \mathbf{y} = \mathbf{Cx} + \mathbf{Du}
% $$
%
% where $\mathbf{x}$ is the vector of state variables (nx1),
% $\dot{\mathbf{x}}$ is the time derivative of state vector (nx1),
% $\mathbf{u}$ is the input or control vector (px1),
% $\mathbf{y}$ is the output vector (qx1),
% $\mathbf{A}$ is the system matrix (nxn), 
% $\mathbf{B}$ is the input matrix (nxp), 
% $\mathbf{C}$ is the output matrix (qxn),
% $\mathbf{D}$ is the feedforward matrix (qxp).	
%	
% The output equation, Eq.(3), is necessary because often there are state 
% variables which are not directly observed or are otherwise not of
% interest.  The output matrix, $\mathbf{C}$, is used to specify which
% state variables (or combinations thereof) are available for use by the 
% controller. Also often there is no direct feedforward in which case 
% $\mathbf{D}$ is the zero matrix.
%
% The state-space representation, also referred to as the time-domain
% representation, can easily handle *multi-input/multi-output (MIMO)* systems, 
% systems with non-zero initial conditions, and nonlinear systems via Eq.(1). 
% Consequently, the state-space representation is used extensively in 
% "modern" control theory. 
%
%% Transfer Function Representation
%
% LTI systems have the extremely important property that if the input to 
% the system is sinusoidal, then the output will also be sinusoidal  
% at the same frequency but in general with different magnitude and phase.
% These magnitude and phase differences as a function of frequency are known as the
% *frequency response* of the system.
%
% Using the *Laplace transform*, it is possible to convert a system's 
% time-domain representation into a frequency-domain output/input representation, 
% known as the *transfer function*.  In so doing, it also transforms the governing 
% differential equation into an algebraic equation which is often easier to 
% analyze.
%
% The Laplace transform of a time domain function, $f(t)$, is defined below:
%
% $$
% F(s) = \mathcal{L}\{f(t)\} = \int_0^\infty e^{-st}f(t)dt
% $$
%
% where the parameter $s=\sigma+j\omega$ is a complex frequency variable. It is
% very rare in practice that you will have to directly evaluate a Laplace
% transform (though you should certainly know how). It is much more common 
% to look up the transform of the function you are interested in in a table
% such as the one found here: <http://en.wikipedia.org/wiki/Laplace_transform#Table_of_selected_Laplace_transforms Laplace Transform Table>
%
% The Laplace transform of the nth derivative of a function is particularly
% important:
%
% $$
% \mathcal{L}\left\{ \frac{d^nf}{dt^n} \right\} = s^n F(s)- s^{n-1} f(0) - s^{n-2} \dot{f}(0) - ... - f^{(n-1)}(0)
% $$
%
% Frequency-domain methods are most often used for analyzing LTI
% *single-input/single-output (SISO)* systems, e.g. those governed by a
% constant coefficient differential equation as follows:
%
% $$
% a_n \frac{d^ny}{dt^n} + ... + a_1 \frac{dy}{dt} + a_0 y(t) = b_m \frac{d^mu}{dt^m} + ... + b_1 \frac{du}{dt} + b_0 u(t)
% $$
% 
% The Laplace transform of this equation is given below:
%
% $$
% a_n s^n Y(s) + ... + a_1 sY(s)+ a_0 Y(s) = b_m s^m U(s) + ... + b_1 sU(s)+ b_0 U(s)
% $$
%
% where $Y(s)$ and $U(s)$ are the Laplace Transforms of $y(t)$ and $u(t)$
% respectively. Note that when finding transfer functions, we always assume
% that the each of the initial conditions, $y(0)$, $\dot{y}(0)$, $u(0)$, etc.
% is zero. The transfer function from input $U(s)$ to output $Y(s)$ is therefore:
%
% $$
% G(s) = \frac{Y(s)}{U(s)} = \frac{b_m s^m + b_{m-1} s^{m-1} + ... + b_1 s + b_0}{a_n s^n + a_{n-1} s^{n-1} + ... + a_1 s + a_0}
% $$
%
% It is useful to factor the numerator and denominator of the transfer
% function into the so called *zero-pole-gain* form:
%
% $$
% G(s) = \frac{N(s)}{D(s)} = K \frac{(s-z_1)(s-z_2)...(s-z_{m-1})(s-z_m)}{(s-p_1)(s-p_2)...(s-p_{n-1})(s-p_n)}
% $$
%
% The *zeros* of the transfer function, $z_1...z_m$, are the
% roots of the numerator polynomial, i.e. the values of s such that $N(s)=0$.
% The *poles* of the transfer function, $p_1...p_n$, are the
% roots of the denominator polynomial, i.e. the values of s such that
% $D(s)=0$. Both the zeros and poles may be complex valued (have both real 
% and imaginary parts). The system *Gain* is $K = b_m/a_n$.
%
% Note that we can also determine the transfer function directly form the
% state-space representation as follows:
%
% $$
% G(s) = \frac{Y(s)}{U(s)} = \mathbf{C}(s\mathbf{I}-\mathbf{A})^{-1}\mathbf{B}+\mathbf{D}
% $$
%
%% Mechanical Systems
%
% Newton's laws of motion form the basis for analyzing mechanical systems.  
% *Newton’s second law*, Eq. (11), states that the sum of the forces acting on
% a body equals its mass times acceleration. *Newton's third law*, for our
% purposes, states that if two bodies are connected, then they experience
% the same magnitude force acting in opposite directions.
%
% $$
% \Sigma \mathbf{F} = m \mathbf{a} = m \frac{d^2 \mathbf{x}}{dt^2}
% $$
%
% When applying this equation, it is best to construct a *free body diagram
% (FBD)* of the sysetm showing all applied forces.
%
%% Example: Mass-Spring-Damper System
%
% <<Content/Introduction/System/Modeling/figures/mass_spring_damper.png>>
% 
% The free body diagram for this system is shown below.  The spring force
% is proportional to the displacement of the mass, $x$, and the viscous damping 
% force is proportional to the velocity of the mass, $v=\dot{x}$.  Both forces 
% oppose the motion of the mass and are therefore shown in the negative 
% $x$-direction.  Note also, that $x=0$ corresponds to the position of the mass 
% when the spring is unstretched. 
%
% <<Content/Introduction/System/Modeling/figures/mass_spring_damper_FBD.png>>
% 
% Now we proceed by summing the forces and applying Newton’s second law,
% Eq. (11), in each direction of the problem.  In this case, there are no 
% forces acting in the $y$-direction; however, in the $x$-direction we have:
%
% $$
% \Sigma F_x = F(t) - b \dot{x} - k x = m \ddot{x}
% $$
%
% This equation, known as the *governing equation*, completely characterizes
% the dynamic state of the system.  Later, we will see how to use this to calculate 
% the response of the system to any external input, $F(t)$, as well as analyze 
% system properties such as stability and performance. 
%
% To determine the state-space representation of the mass-spring-damper
% system, we must reduce the second order governing equation to a set of
% two first order differential equations. To this end, we choose the position and
% velocity as our state variables.  
%
% $$
% \mathbf{x} = \left[ \begin{array}{c} x \\ \dot{x} \end{array}\right]
% $$
%
% Note also that these state variables correspond to the potential energy in
% the spring and the kinetic energy of the mass  respectively.  Often when 
% choosing state variables it is helpful to consider the independent energy 
% storage elements in the system.  
%
% The state equation in this case is as follows:
%
% $$
% \mathbf{\dot{x}} = \left[ \begin{array}{c} \dot{x} \\ \ddot{x} \end{array} \right] = \left[ \begin{array}{cc} 0 & 1 \\ -\frac{k}{m}  & -\frac{b}{m} \end{array} \right] \left[ \begin{array}{c} x \\ \dot{x} \end{array} \right] + \left[ \begin{array}{c} 0 \\ \frac{1}{m} \end{array} \right] F(t)
% $$
%
% If, for instance, we are interested in controlling the position of the mass, 
% then the output equation is as follows:
%
% $$
% y = \left[ \begin{array}{cc} 1 & 0 \end{array} \right] \left[ \begin{array}{c} x \\ \dot{x} \end{array} \right]
% $$
%
%% Entering State-Space Models into MATLAB
%
% Now we will show you how to enter the equations derived above into a
% |m-file| for MATLAB.  Let's assign numerical values to each of the
% variables.
%
%%
%   m                   mass                                    1.0 kg
%   k                   spring constant                         1.0 N/m
%   b                   damping constant                        0.2 Ns/m
%   F                   input force                             1.0 N
%
% Create a new |m-file| and enter the following commands.
%
%%

m = 1;
k = 1;
b = 0.2;
F = 1;

A = [0 1; -k/m -b/m];
B = [0 1/m]';
C = [1 0];
D = [0];

sys = ss(A,B,C,D)

%%
% The Laplace transform for this system assuming zero initial conditions is
%
% $$
% m s^2 X(s) + b s X(s) + k X(s) = F(s)
% $$
%
% and therefore the transfer function from force input to displacement
% output is
%
% $$
% \frac{X(s)}{F(s)} = \frac{1}{m s^2 + b s + k}
% $$
%
%% Entering Transfer Function Models into MATLAB
%
% Now we will show how to enter the transfer function derived above into MATLAB. 
% Enter the following commands into the |m-file| in which you defined the
% system parameters.
%
%%

s = tf('s');
sys = 1/(m*s^2+b*s+k)

%%
%
% Note that we have used the symbolic |s| variable here to define our
% transfer function model.  We recommend using this method most of the
% time; however, in some circumstances, for instance in older versions of MATLAB or when interfacing
% with SIMULINK, you may need to define the transfer
% function model using the numerator and denominator polynomial
% coefficients directly.  In these cases, use the following commands:
%
%%

num = [1];
den = [m b k];
sys = tf(num,den)

%% Electrical Systems
%
% Like Newton’s laws in mechanical systems, Kirchoff’s circuit laws are the
% basic analytical tool in electrical systems.  *Kirchoff’s current law (KCL)* 
% states that the sum of the electrical currents entering and exiting a node 
% in a circuit must be equal. *Kirchoff’s voltage law (KVL)* states that the 
% sum of voltage differences around any closed loop in the 
% circuit is zero.  When applying KVL, the source voltages are typically taken 
% as positive and the load voltages taken as negative.
% 
%% Example: RLC Circuit
%
% We will now consider a simple series combination of three passive
% electrical elements: a resistor, an inductor, and a capacitor, known as an *RLC Circuit*.
%
% <<Content/Introduction/System/Modeling/figures/RLC.png>>
% 
% Since this circuit is a single loop, each node only has one input
% and output; therefore, application of KCL simply shows that the current 
% is the same throughout the circuit at any given time, $i(t)$.  Now applying 
% KVL around the loop and using the sign conventions indicated in the diagram, 
% we arrive at the following governing equation.
% 
% $$
% V(t) - L \frac{di}{dt} - R i - \frac{1}{C} \int i dt = 0
% $$
%
% We note that that the governing equation for the RLC circuit
% has an analogous form to the mass-spring-damper mechanical system. In 
% particular, they are both second order systems where the charge (integral of current) corresponds 
% to displacement, the inductance to mass, the resistance to viscous damping, 
% and the inverse capacitance to the spring stiffness.  These analogies and 
% others like them turn out to be quite useful conceptually in understanding 
% the behavior of dynamical systems.
%
% The state-space representation is found by choosing the charge and
% current as the state variables.
%
% $$
% \mathbf{x} = \left[ \begin{array}{c} q \\ i \end{array}\right]
% $$
%
% where,
%
% $$
% q = \int i dt
% $$
%
% The state equation is therefore:
%
% $$
% \mathbf{\dot{x}} = \left[ \begin{array}{c} i \\ \frac{di}{dt} \end{array} \right] = \left[ \begin{array}{cc} 0 & 1 \\ -\frac{R}{L}  & -\frac{1}{LC}  \end{array} \right] \left[ \begin{array}{c} q \\ i \end{array} \right] + \left[ \begin{array}{c} 0 \\ \frac{1}{L} \end{array} \right] V(t)
% $$
%
% We choose the current as ouput as follows:
%
% $$
% y = \left[ \begin{array}{cc} 0 & 1 \end{array} \right] \left[ \begin{array}{c} q \\ i \end{array} \right]
% $$
%
% The transfer function representation may be found by taking the Laplace 
% transform as we did for the mass-spring-damper or from the state-space equation as follows:
%
% $$
% \frac{I(s)}{V(s)} = \mathbf{C}(s
% \mathbf{I}-\mathbf{A})^{-1}\mathbf{B}+\mathbf{D}
% = \left[ \begin{array}{cc} 0 & 1 \end{array} \right]
% \left( s \left[ \begin{array}{cc} 1 & 0 \\ 0 & 1 \end{array} \right] - \left[
% \begin{array}{cc} 0 & 1 \\ -\frac{1}{LC} & -\frac{R}{L} \end{array} \right] \right)^{-1} \left[ \begin{array}{c} 0 \\ \frac{1}{L} \end{array} \right]
% $$
%
% $$
% \frac{I(s)}{V(s)} = \frac{s}{Ls^2+Rs+\frac{1}{C}}
% $$
%
% The RLC state-space and transfer fcuntion models can be entered into
% MATLAB using the same procedure as discussed for the mass-spring-damper
% system above.

%% System Identification
%
% In this section, we have seen how to model systems using basic physical
% principles; however, often this is not possible either 
% because the parameters of the system are uncertain, or 
% the underlying processes are simply not known.  In 
% these cases, we must rely on experimental measurements and statistical 
% techniques to develop a system model, a process known as system identification.   
%
% System identification may be performed using either time-domain or
% frequency-domain data, see the
% < ?aux=Extras_Identification Introduction: System Identification> page.
% 
% Also refer to MATLAB’s <http://www.mathworks.com/products/sysid/ System Identification Toolbox> for more information on this subject. 
% 
%% System Conversions
%
% Most operations in MATLAB can be performed on either the transfer
% function, the state-space model, or the zero-pole-gain form. Furthermore, 
% it is simple to transfer between these if the other form of representation 
% is required. If you need to learn how to convert from one representation 
% to the other, see the < ?aux=Extras_Conversions Introduction: System Conversions> page.
##### SOURCE END #####
-->				</div>
				
				<div id="left">

					<ul class="section">
						<li class="heading" id="System">SYSTEM<img class="section_heading_arrow" src="Images/section_heading_arrow.png"/></li>
						<li class="item" id="SystemModeling"><a href="indexf617.html?example=Introduction&amp;section=SystemModeling">MODELING<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="SystemAnalysis"><a href="indexa13b.html?example=Introduction&amp;section=SystemAnalysis">ANALYSIS<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
					</ul>
					
					<div class="section_break"></div>

					<ul class="section">
						<li class="heading" id="Control">CONTROL<img class="section_heading_arrow" src="Images/section_heading_arrow.png"/></li>
						<li class="item" id="ControlPID"><a href="index6e33.html?example=Introduction&amp;section=ControlPID">PID<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="ControlRootLocus"><a href="indexe528.html?example=Introduction&amp;section=ControlRootLocus">ROOT&nbsp;LOCUS<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="ControlFrequency"><a href="index7f35.html?example=Introduction&amp;section=ControlFrequency">FREQUENCY<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="ControlStateSpace"><a href="index9b18.html?example=Introduction&amp;section=ControlStateSpace">STATE-SPACE<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="ControlDigital"><a href="index4e79.html?example=Introduction&amp;section=ControlDigital">DIGITAL<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
					</ul>
					
					<div class="section_break"></div>

					<ul class="section">
						<li class="heading" id="Simulink">SIMULINK<img class="section_heading_arrow" src="Images/section_heading_arrow.png"/></li>
						<li class="item" id="SimulinkModeling"><a href="index5af4.html?example=Introduction&amp;section=SimulinkModeling">MODELING<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="SimulinkControl"><a href="index87ee.html?example=Introduction&amp;section=SimulinkControl">CONTROL<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
					</ul>
		
				</div>
			
				<div style="clear:both"></div>
				
				<div id="bottombar"><span style="color:#FF5500;font-weight:bold">.</div>
				
			</div>
			
		</div>
	
		<script type="text/javascript" src="script.js"></script>
						
	</body>
	

<!-- Mirrored from ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=SystemModeling by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:07:57 GMT -->
</html>

	emModeling by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:07:57 GMT -->
</html>

	
	
		<script type="text/javascript" src="script.js"></script>
						
	</body>
	

<!-- Mirrored from ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=SystemModeling by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:07:57 GMT -->
</html>

	emModeling by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:07:57 GMT -->
</html>

	pier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:07:57 GMT -->
</html>

	emModeling by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:07:57 GMT -->
</html>

	