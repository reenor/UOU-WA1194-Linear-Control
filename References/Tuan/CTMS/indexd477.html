<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

	
<!-- Mirrored from ctms.engin.umich.edu/CTMS/index.php?example=InvertedPendulum&section=SimulinkControl by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:12:21 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>

		<script type="text/javascript" src="jquery.js"></script>
					
		<link rel='stylesheet' type='text/css' href='style.css' />
		<script type="text/javascript">
	
			var example = "InvertedPendulum"; 
			var section = "SimulinkControl"; 
			var aux = ""; 
			var effects = Boolean(1); 
			var tips = Boolean(1); 
			$.fx.off = !effects;
			
			$(document).keydown(function(e){
				if (!$("#search_field").is(":focus")){
					if (e.keyCode == 39) { 
						window.location = "index1987.html?example=AircraftPitch&amp;section=SystemModeling";
					}
					if (e.keyCode == 37) { 
						window.history.back()
					}
				}
			});		
			
		</script>
			
		<meta http-equiv="Content-Type" Content="text/html; charset=utf-8" />
		<meta http-equiv="PRAGMA" Content="NO-CACHE" />
		
		<title>Control Tutorials for MATLAB and Simulink - Inverted Pendulum: Simulink Control</title>
			
	</head>

	<body>
	
		
		<div id="container">
		
			<form id="search_form"><input id="search_field" type="text" name="q" placeholder="Search Control Tutorials"/></form>
			<form class="option_form" method="post" onclick="submit()"><div>Effects</div><input type="hidden" name="effects" value="0"/><input type="checkbox" name="effects" value="1" checked='true' /></form>
			<form class="option_form" method="post" onclick="submit()"><div>Tips</div><input type="hidden" name="tips" value="0"/><input type="checkbox" name="tips" value="1" checked='true' /></form>	
				
			<div style="clear:both"></div>
		
			<div id="header">
		
				

				
				
				<div id="menu_container">
				
					<ul class="menu">
						<li class="heading" id="Tips"><a href="index80e7.html?aux=Extras_Tips">TIPS</a></li>
						<div class="collapse"><div class="expand">
						</div></div>
					</ul>
				
					<ul class="menu">
						<li class="heading" id="About"><a>ABOUT</a></li>
						<div class="collapse"><div class="expand">
							<li class="item" id="About_Tutorials"><a href="index64fe.html?aux=About_Tutorials">Tutorials</a></li>
							<li class="item" id="About_Contact"><a href="mailto:ControlTutorialsMatlabSimulink@gmail.com">Contact</a></li>
						</div></div>
					</ul>
					
					<ul class="menu">
						<li class="heading" id="Basics"><a>BASICS</a></li>
						<div class="collapse"><div class="expand">
							<li class="item" id="Basics_Matlab"><a href="index87b6.html?aux=Basics_Matlab">MATLAB</a></li>
							<li class="item" id="Basics_Simulink"><a href="indexe9ea.html?aux=Basics_Simulink">Simulink</a></li>
						</div></div>
					</ul>
					
					<ul class="menu">
						<li class="heading" id="Index"><a>INDEX</a></li>
						<div class="collapse"><div class="expand">
							<li class="item" id="Index_Tutorials"><a href="index5e52.html?aux=Index_Tutorials">Tutorials</a></li>
							<li class="item" id="Index_Commands"><a href="index111e.html?aux=Index_Commands">Commands</a></li>
							<li class="item" id="Index_Animations"><a href="indexc3c5.html?aux=Index_Animations">Animations</a></li>
							<li class="item" id="Index_Extras"><a href="indexb290.html?aux=Index_Extras">Extras</a></li>
						</div></div>
					</ul>
									
					<ul class="menu">
						<li class="heading" id="Next"><a href="index1987.html?example=AircraftPitch&amp;section=SystemModeling">NEXT&nbsp;&#x25BA;</a></li>
						<div class="collapse"><div class="expand">
						</div></div>
					</ul>
											
				</div>

			</div>
			
			<div id="body_container">
			
				<div id="gradient_container"></div>
			
				<div id="top">
				
					<a href="index1304.html?aux=Home"><img id="CTMS_logo" src="Images/CTMS_logo.png"></a>
				
					<ul class="example">
					
						<li class="item" id="Introduction"><a href="index87ee.html?example=Introduction&amp;section=SimulinkControl"><img class="icon" src="Images/Introduction_Icon.png"><div class="tab">INTRODUCTION</div></a></li>
						<li class="item" id="CruiseControl"><a href="index8e57.html?example=CruiseControl&amp;section=SimulinkControl"><img class="icon" src="Images/CruiseControl_Icon.png"><div class="tab">CRUISE&nbsp;CONTROL</div></a></li>
						<li class="item" id="MotorSpeed"><a href="indexc535.html?example=MotorSpeed&amp;section=SimulinkControl"><img class="icon" src="Images/MotorSpeed_Icon.png"><div class="tab">MOTOR&nbsp;SPEED</div></a></li>
						<li class="item" id="MotorPosition"><a href="index4c9e.html?example=MotorPosition&amp;section=SimulinkControl"><img class="icon" src="Images/MotorPosition_Icon.png"><div class="tab">MOTOR&nbsp;POSITION</div></a></li>
						<li class="item" id="Suspension"><a href="index24af.html?example=Suspension&amp;section=SimulinkControl"><img class="icon" src="Images/Suspension_Icon.png"><div class="tab">SUSPENSION</div></a></li>
						<li class="item" id="InvertedPendulum"><a href="indexd477.html?example=InvertedPendulum&amp;section=SimulinkControl"><img class="icon" src="Images/InvertedPendulum_Icon.png"><div class="tab">INVERTED&nbsp;PENDULUM</div></a></li>
						<li class="item" id="AircraftPitch"><a href="index9a32.html?example=AircraftPitch&amp;section=SimulinkControl"><img class="icon" src="Images/AircraftPitch_Icon.png"><div class="tab">AIRCRAFT&nbsp;PITCH</div></a></li>
						<li class="item" id="BallBeam"><a href="index7413.html?example=BallBeam&amp;section=SimulinkControl"><img class="icon" src="Images/BallBeam_Icon.png"><div class="tab">BALL&nbsp;&amp;&nbsp;BEAM</div></a></li>
					
					</ul> 
		
				</div>
				
				<div id="content_container">
					<div class="content">
   <div class="content_fx">
      <h1>Inverted Pendulum: Simulink Controller Design</h1>
      <!--introduction-->
      <p>From the <a href="indexffaa.html?example=InvertedPendulum&amp;section=SimulinkModeling">Inverted Pendulum: Simulink Modeling</a> page we generated two different simulation models. We will now employ these models within Simulink to design different approaches
         to control and simulate the resulting closed-loop behavior.
      </p>
      <!--/introduction-->
      <h2>Contents</h2>
      <div>
         <ul>
            <li><a href="#1">Problem setup and design requirements</a></li>
            <li><a href="#3">Implementing PID control for the nonlinear model</a></li>
            <li><a href="#5">Nonlinear closed-loop response</a></li>
         </ul>
      </div>
      <h2>Problem setup and design requirements<a name="1"></a></h2>
      <p>In this problem, the cart with an inverted pendulum, shown below, is "bumped" with an impulse force, <img class="inline_eqn" src="Content/InvertedPendulum/Simulink/Control/html/InvertedPendulum_SimulinkControl_eq86924.png" alt="$F$">.
      </p>
      <p><img class="figure"vspace="5" hspace="5" src="Content/InvertedPendulum/Simulink/Control/figures/pendulum.png" alt=""> </p>
      <p>For this example, let's assume that</p><pre>(M)       mass of the cart                     0.5 kg</pre><pre>(m)       mass of the pendulum                 0.2 kg</pre><pre>(b)       friction of the cart                 0.1 N/m/sec</pre><pre>(l)       length to pendulum center of mass    0.3 m</pre><pre>(I)       inertia of the pendulum              0.006 kg*m^2</pre><pre>(F)       force applied to the cart            N</pre><pre>(x)       cart position coordinate             m</pre><pre>(theta)   pendulum angle from vertical         radians</pre><p>In the design process we will develop a PID controller and apply it to a single-input, single-output plant. More specifically,
         the controller will attempt to maintain the pendulum vertically upward when the cart is subjected to a 1-Nsec impulse. The
         cart's position will be ignored. Under these conditions, the design criteria are:
      </p>
      <div>
         <ul>
            <li>Settling time of less than 5 seconds</li>
            <li>Pendulum should not move more than 0.05 radians away from the vertical</li>
         </ul>
      </div>
      <h2>Implementing PID control for the nonlinear model<a name="3"></a></h2>
      <p>In the <a href="index9b2d.html?example=InvertedPendulum&amp;section=ControlPID">Inverted Pendulum: PID Controller Design</a> page a PID controller was designed with proportional, integral, and derivative gains equal to 100, 1, and 20, respectively.
         To implement this closed-loop system, we will start with one of our plant models from the <a href="indexffaa.html?example=InvertedPendulum&amp;section=SimulinkModeling">Inverted Pendulum: Simulink Modeling</a> page. Following the steps below, we will build a closed-loop model with reference input of pendulum position and a disturbance
         force applied to the cart.
      </p>
      <div>
         <ul>
            <li>To begin, open either of the Simulink models generated previously, <a href="Content/InvertedPendulum/Simulink/Control/Pend_Model.mdl">Pend_Model.mdl</a> or <a href="Content/InvertedPendulum/Simulink/Control/Pend_Model_Simscape.mdl">Pend_Model_Simscape.mdl</a>. We will use the Simscape model to leverage the animation capabilities it offers.
            </li>
            <li>Insert two Add blocks from Simulink/Math Operations library.</li>
            <li>Change the <b>List of signs:</b> of one of the Add blocks to "+-".
            </li>
            <li>Insert a Constant block from Simulink/Sources library. Change its value to 0. This is the reference input that corresponds
               to the pendulum vertically upward. Note, the non-Simscape model (and the rest of the pages in this example) define the pendulum
               angle to equal pi when pointing straight up.
            </li>
            <li>Insert a PID Controller block from the Simulink/Continuous library.</li>
            <li>Edit the PID block by doubleclicking on it. Change the <b>Proportional (P):</b> gain to "100", leave the <b>Integral (I):</b> gain as "1", and change the <b>Derivative (D):</b> gain to "20".
            </li>
            <li>Now connect the blocks as they appear in the following figure:</li>
         </ul>
      </div>
      <p><img class="figure"vspace="5" hspace="5" src="Content/InvertedPendulum/Simulink/Control/figures/pendclosedloop.png" alt=""> </p>
      <p>You can download our version <a href="Content/InvertedPendulum/Simulink/Control/Pend_Simscape_Closedloop.mdl">here</a>.
      </p>
      <h2>Nonlinear closed-loop response<a name="5"></a></h2>
      <p>We can now simulate the closed-loop system. Be sure that the physical parameters are set as follows.</p><pre class="codeinput">M = 0.5;
m = 0.2;
b = 0.1;
I = 0.006;
g = 9.8;
l = 0.3;
</pre><p>Now, start the simulation (select <b>Start</b> from the <b>Simulation</b> menu or enter <b>Ctrl-T</b>). As the simulation runs, an animation of the inverted pendulum will visualize the system's resulting motion. Recall that
         the <b>Show animation during simulation</b> option must be checked under the <b>Simulation &gt; Configuration Parameters</b> menu. After the simulation has run, double-click on the scope and hit the <b>Autoscale</b> button. You should see the following response.
      </p>
      <p><img class="figure"vspace="5" hspace="5" src="Content/InvertedPendulum/Simulink/Control/figures/scope.png" alt=""> </p>
      <p>This response is almost identical to the closed-loop response obtained in the MATLAB tutorials (for example, in the <a href="index9b2d.html?example=InvertedPendulum&amp;section=ControlPID">Inverted Pendulum: PID Controller Design</a> page). Note that the PID controller handles the nonlinear system very well because the deviation of the angle from the operating
         point is very small (approximately .05 radians).
      </p>
      <p class="footer"><br>
         Published with MATLAB&reg; 7.14<br></p>
   </div>
</div>
<!--
##### SOURCE BEGIN #####
%% Inverted Pendulum: Simulink Controller Design
%
% From the < ?example=InvertedPendulum&section=SimulinkModeling
% Inverted Pendulum: Simulink Modeling> page we generated two
% different simulation models. We will now employ these models
% within Simulink to design different approaches to control and simulate
% the resulting closed-loop behavior.   
%
%% Problem setup and design requirements
% In this problem, the cart with an inverted pendulum, shown below, is "bumped" with an
% impulse force, $F$. 
% 
% <<Content/InvertedPendulum/Simulink/Control/figures/pendulum.png>>
% 
%%
% For this example, let's assume that
%
%  (M)       mass of the cart                     0.5 kg
% 
%  (m)       mass of the pendulum                 0.2 kg
% 
%  (b)       friction of the cart                 0.1 N/m/sec
% 
%  (l)       length to pendulum center of mass    0.3 m
% 
%  (I)       inertia of the pendulum              0.006 kg*m^2
% 
%  (F)       force applied to the cart            N
% 
%  (x)       cart position coordinate             m
% 
%  (theta)   pendulum angle from vertical         radians
%
%
% In the design process we will develop a PID controller and apply it to a
% single-input, single-output plant. More specifically, the controller will
% attempt to maintain the pendulum vertically upward when the cart is
% subjected to a 1-Nsec impulse. The cart's position will be ignored. Under
% these conditions, the design criteria are: 
%
% * Settling time of less than 5 seconds
% * Pendulum should not move more than 0.05 radians away from the vertical
%
%% Implementing PID control for the nonlinear model
% In the 
% < ?example=InvertedPendulum&section=ControlPID Inverted Pendulum: PID Controller Design> page
% a PID controller was designed with proportional, integral, and derivative
% gains equal to 100, 1, and 20, respectively. To implement this
% closed-loop system, we will start with one of our plant models from the < ?example=InvertedPendulum&section=SimulinkModeling
% Inverted Pendulum: Simulink Modeling> page. Following the steps below, we
% will build a closed-loop model with reference input of pendulum position
% and a disturbance force applied to the cart.
%
%%
% * To begin, open either of the Simulink models generated previously,
% <Content/InvertedPendulum/Simulink/Control/Pend_Model.mdl Pend_Model.mdl> or <Content/InvertedPendulum/Simulink/Control/Pend_Model_Simscape.mdl
% Pend_Model_Simscape.mdl>. We will use the Simscape model 
% to leverage the animation capabilities it offers.
% * Insert two Add blocks from Simulink/Math Operations library.
% * Change the *List of signs:* of one of the Add blocks to "+-".
% * Insert a Constant block from Simulink/Sources library. Change its value
% to 0. This is the reference input that corresponds to the pendulum
% vertically upward. Note, the non-Simscape model (and the rest of the
% pages in this example) define the pendulum angle to equal pi when
% pointing straight up.
% * Insert a PID Controller block from the Simulink/Continuous library.
% * Edit the PID block by doubleclicking on it. Change the *Proportional
% (P):* gain to "100", leave the *Integral (I):* gain as "1", and change the *Derivative (D):* gain
% to "20". 
% * Now connect the blocks as they appear in the following figure:
%
% <<Content/InvertedPendulum/Simulink/Control/figures/pendclosedloop.png>>
%
% You can download our version <Content/InvertedPendulum/Simulink/Control/Pend_Simscape_Closedloop.mdl here>.
%
%% Nonlinear closed-loop response
%
% We can now simulate the closed-loop system. Be sure that the physical
% parameters are set as follows.

M = 0.5;
m = 0.2;
b = 0.1;
I = 0.006;
g = 9.8;
l = 0.3;

%%
% Now, start the simulation (select *Start* from the *Simulation* menu or 
% enter *Ctrl-T*). As the simulation runs, an animation of the inverted
% pendulum will visualize the system's resulting motion. Recall that the
% *Show animation during simulation* option must be checked under the
% *Simulation > Configuration Parameters* menu. After the simulation has
% run, double-click on the scope and hit the *Autoscale* button. You should
% see the following response.  
%
% <<Content/InvertedPendulum/Simulink/Control/figures/scope.png>>
%
%%
% This response is almost identical to the closed-loop response obtained in
% the MATLAB tutorials (for example, in the
% < ?example=InvertedPendulum&section=ControlPID
% Inverted Pendulum: PID Controller Design> page). Note that the PID
% controller handles the nonlinear system very well because the deviation
% of the angle from the operating point is very small (approximately .05 radians).
##### SOURCE END #####
-->				</div>
				
				<div id="left">

					<ul class="section">
						<li class="heading" id="System">SYSTEM<img class="section_heading_arrow" src="Images/section_heading_arrow.png"/></li>
						<li class="item" id="SystemModeling"><a href="indexdeb1.html?example=InvertedPendulum&amp;section=SystemModeling">MODELING<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="SystemAnalysis"><a href="indexce00.html?example=InvertedPendulum&amp;section=SystemAnalysis">ANALYSIS<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
					</ul>
					
					<div class="section_break"></div>

					<ul class="section">
						<li class="heading" id="Control">CONTROL<img class="section_heading_arrow" src="Images/section_heading_arrow.png"/></li>
						<li class="item" id="ControlPID"><a href="index9b2d.html?example=InvertedPendulum&amp;section=ControlPID">PID<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="ControlRootLocus"><a href="index2ed1.html?example=InvertedPendulum&amp;section=ControlRootLocus">ROOT&nbsp;LOCUS<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="ControlFrequency"><a href="index64c4.html?example=InvertedPendulum&amp;section=ControlFrequency">FREQUENCY<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="ControlStateSpace"><a href="index96a8.html?example=InvertedPendulum&amp;section=ControlStateSpace">STATE-SPACE<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="ControlDigital"><a href="index5759.html?example=InvertedPendulum&amp;section=ControlDigital">DIGITAL<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
					</ul>
					
					<div class="section_break"></div>

					<ul class="section">
						<li class="heading" id="Simulink">SIMULINK<img class="section_heading_arrow" src="Images/section_heading_arrow.png"/></li>
						<li class="item" id="SimulinkModeling"><a href="indexffaa.html?example=InvertedPendulum&amp;section=SimulinkModeling">MODELING<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="SimulinkControl"><a href="indexd477.html?example=InvertedPendulum&amp;section=SimulinkControl">CONTROL<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
					</ul>
		
				</div>
			
				<div style="clear:both"></div>
				
				<div id="bottombar"><span style="color:#FF5500;font-weight:bold">.</div>
				
			</div>
			
		</div>
	
		<script type="text/javascript" src="script.js"></script>
						
	</body>
	

<!-- Mirrored from ctms.engin.umich.edu/CTMS/index.php?example=InvertedPendulum&section=SimulinkControl by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:12:28 GMT -->
</html>

	inkControl by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:12:28 GMT -->
</html>

		<script type="text/javascript" src="script.js"></script>
						
	</body>
	

<!-- Mirrored from ctms.engin.umich.edu/CTMS/index.php?example=InvertedPendulum&section=SimulinkControl by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:12:28 GMT -->
</html>

	inkControl by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:12:28 GMT -->
</html>

	pier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:12:28 GMT -->
</html>

	inkControl by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:12:28 GMT -->
</html>

	