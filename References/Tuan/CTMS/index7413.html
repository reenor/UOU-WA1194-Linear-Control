<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

	
<!-- Mirrored from ctms.engin.umich.edu/CTMS/index.php?example=BallBeam&section=SimulinkControl by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:13:37 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>

		<script type="text/javascript" src="jquery.js"></script>
					
		<link rel='stylesheet' type='text/css' href='style.css' />
		<script type="text/javascript">
	
			var example = "BallBeam"; 
			var section = "SimulinkControl"; 
			var aux = ""; 
			var effects = Boolean(1); 
			var tips = Boolean(1); 
			$.fx.off = !effects;
			
			$(document).keydown(function(e){
				if (!$("#search_field").is(":focus")){
					if (e.keyCode == 39) { 
						window.location = "index5e52.html?aux=Index_Tutorials";
					}
					if (e.keyCode == 37) { 
						window.history.back()
					}
				}
			});		
			
		</script>
			
		<meta http-equiv="Content-Type" Content="text/html; charset=utf-8" />
		<meta http-equiv="PRAGMA" Content="NO-CACHE" />
		
		<title>Control Tutorials for MATLAB and Simulink - Ball & Beam: Simulink Control</title>
			
	</head>

	<body>
	
		
		<div id="container">
		
			<form id="search_form"><input id="search_field" type="text" name="q" placeholder="Search Control Tutorials"/></form>
			<form class="option_form" method="post" onclick="submit()"><div>Effects</div><input type="hidden" name="effects" value="0"/><input type="checkbox" name="effects" value="1" checked='true' /></form>
			<form class="option_form" method="post" onclick="submit()"><div>Tips</div><input type="hidden" name="tips" value="0"/><input type="checkbox" name="tips" value="1" checked='true' /></form>	
				
			<div style="clear:both"></div>
		
			<div id="header">
		
				

				
				
				<div id="menu_container">
				
					<ul class="menu">
						<li class="heading" id="Tips"><a href="index80e7.html?aux=Extras_Tips">TIPS</a></li>
						<div class="collapse"><div class="expand">
						</div></div>
					</ul>
				
					<ul class="menu">
						<li class="heading" id="About"><a>ABOUT</a></li>
						<div class="collapse"><div class="expand">
							<li class="item" id="About_Tutorials"><a href="index64fe.html?aux=About_Tutorials">Tutorials</a></li>
							<li class="item" id="About_Contact"><a href="mailto:ControlTutorialsMatlabSimulink@gmail.com">Contact</a></li>
						</div></div>
					</ul>
					
					<ul class="menu">
						<li class="heading" id="Basics"><a>BASICS</a></li>
						<div class="collapse"><div class="expand">
							<li class="item" id="Basics_Matlab"><a href="index87b6.html?aux=Basics_Matlab">MATLAB</a></li>
							<li class="item" id="Basics_Simulink"><a href="indexe9ea.html?aux=Basics_Simulink">Simulink</a></li>
						</div></div>
					</ul>
					
					<ul class="menu">
						<li class="heading" id="Index"><a>INDEX</a></li>
						<div class="collapse"><div class="expand">
							<li class="item" id="Index_Tutorials"><a href="index5e52.html?aux=Index_Tutorials">Tutorials</a></li>
							<li class="item" id="Index_Commands"><a href="index111e.html?aux=Index_Commands">Commands</a></li>
							<li class="item" id="Index_Animations"><a href="indexc3c5.html?aux=Index_Animations">Animations</a></li>
							<li class="item" id="Index_Extras"><a href="indexb290.html?aux=Index_Extras">Extras</a></li>
						</div></div>
					</ul>
									
					<ul class="menu">
						<li class="heading" id="Next"><a href="index5e52.html?aux=Index_Tutorials">NEXT&nbsp;&#x25BA;</a></li>
						<div class="collapse"><div class="expand">
						</div></div>
					</ul>
											
				</div>

			</div>
			
			<div id="body_container">
			
				<div id="gradient_container"></div>
			
				<div id="top">
				
					<a href="index1304.html?aux=Home"><img id="CTMS_logo" src="Images/CTMS_logo.png"></a>
				
					<ul class="example">
					
						<li class="item" id="Introduction"><a href="index87ee.html?example=Introduction&amp;section=SimulinkControl"><img class="icon" src="Images/Introduction_Icon.png"><div class="tab">INTRODUCTION</div></a></li>
						<li class="item" id="CruiseControl"><a href="index8e57.html?example=CruiseControl&amp;section=SimulinkControl"><img class="icon" src="Images/CruiseControl_Icon.png"><div class="tab">CRUISE&nbsp;CONTROL</div></a></li>
						<li class="item" id="MotorSpeed"><a href="indexc535.html?example=MotorSpeed&amp;section=SimulinkControl"><img class="icon" src="Images/MotorSpeed_Icon.png"><div class="tab">MOTOR&nbsp;SPEED</div></a></li>
						<li class="item" id="MotorPosition"><a href="index4c9e.html?example=MotorPosition&amp;section=SimulinkControl"><img class="icon" src="Images/MotorPosition_Icon.png"><div class="tab">MOTOR&nbsp;POSITION</div></a></li>
						<li class="item" id="Suspension"><a href="index24af.html?example=Suspension&amp;section=SimulinkControl"><img class="icon" src="Images/Suspension_Icon.png"><div class="tab">SUSPENSION</div></a></li>
						<li class="item" id="InvertedPendulum"><a href="indexd477.html?example=InvertedPendulum&amp;section=SimulinkControl"><img class="icon" src="Images/InvertedPendulum_Icon.png"><div class="tab">INVERTED&nbsp;PENDULUM</div></a></li>
						<li class="item" id="AircraftPitch"><a href="index9a32.html?example=AircraftPitch&amp;section=SimulinkControl"><img class="icon" src="Images/AircraftPitch_Icon.png"><div class="tab">AIRCRAFT&nbsp;PITCH</div></a></li>
						<li class="item" id="BallBeam"><a href="index7413.html?example=BallBeam&amp;section=SimulinkControl"><img class="icon" src="Images/BallBeam_Icon.png"><div class="tab">BALL&nbsp;&amp;&nbsp;BEAM</div></a></li>
					
					</ul> 
		
				</div>
				
				<div id="content_container">
					<div class="content">
   <div class="content_fx">
      <h1>Ball &amp; Beam: Simulink Controller Design</h1>
      <!--introduction-->
      <!--/introduction-->
      <h2>Contents</h2>
      <div>
         <ul>
            <li><a href="#1">Simulink model</a></li>
            <li><a href="#2">Open-loop response</a></li>
            <li><a href="#5">Extracting the linear model into MATLAB</a></li>
            <li><a href="#9">Building a lead compensator</a></li>
            <li><a href="#10">Closed-loop response</a></li>
         </ul>
      </div>
      <h2>Simulink model<a name="1"></a></h2>
      <p>The Simulink model for the ball and beam system was developed in the <a href="indexc9d4.html?example=BallBeam&amp;section=SimulinkModeling">Ball &amp; Beam: Simulink Modeling</a> section, and can be downloaded here: <a href="Content/BallBeam/Simulink/Control/ball.mdl">ball.mdl</a>.
      </p>
      <h2>Open-loop response<a name="2"></a></h2>
      <p>Before obtaining a step response, we must set the physical parameters Enter the following commands at the MATLAB prompt.</p><pre class="codeinput">m = 0.111;
R = 0.015;
g = -9.8;
L = 1.0;
d = 0.03;
J = 9.99e-6;
</pre><p>We are now ready to run the simulation. Start the simulation by selecting Start from the Simulation menu (or hit Ctrl-T).
         When the simulation is finished, open the Scope by double clicking on it and hit the Scope's autoscale button. You will see
         the following response.
      </p>
      <p><img class="figure"vspace="5" hspace="5" src="Content/BallBeam/Simulink/Control/figures/ballol003.png" alt=""> </p>
      <p>From this plot it is clear that the system is unstable in open-loop causing the ball to roll right off the end of the beam.
         Therefore, some method of controlling the ball's position in this system is required. Later in this tutorial, we will implement
         a lead compensator.
      </p>
      <h2>Extracting the linear model into MATLAB<a name="5"></a></h2>
      <p>The Simulink model can be extracted into an equivalent state-space or transfer function model in MATLAB. This is done through
         the use of In1 and Out1 blocks and the MATLAB function <tt>linmod</tt>.
      </p>
      <p>The Simulink model can be extracted into an equivalent state-space or transfer function model in MATLAB. This is done through
         the use of In and Out Connection blocks and the MATLAB function linmod.
      </p>
      <p>At the MATLAB prompt, enter the following commands. You will see the following output providing the open-loop model of the
         system.
      </p><pre class="codeinput">[A,B,C,D] = linmod(<span class="string">'ball'</span>)
[num,den] = ss2tf(A,B,C,D)
</pre><pre class="codeoutput">A =
     0     1
     0     0
B =
         0
    0.2100
C =
     1     0
D =
     0
num =
         0         0    0.2100
den =
     1     0     0
</pre><p>We can verify this model by obtaining an open-loop step response. Enter the following command at the MATLAB prompt. You will
         see the following open-loop response:
      </p><pre class="codeinput">step(num,den);
</pre><img class="figure"vspace="5" hspace="5" src="Content/BallBeam/Simulink/Control/html/BallBeam_SimulinkControl_01.png" alt=""> <h2>Building a lead compensator<a name="9"></a></h2>
      <p>In the <a href="indexc9b8.html?example=BallBeam&amp;section=ControlRootLocus">Ball &amp; Beam: Root Locus Controller Design</a> page. a lead compensator was designed with a zero at -0.01 and a pole at -5, with a gain of 37.1. We will now construct this
         controller in Simulink.
      </p>
      <div>
         <ul>
            <li>Bring up your open-loop Ball and Beam model window (or download ours here, <a href="Content/BallBeam/Simulink/Control/ballol.mdl">ballol.mdl</a>)
            </li>
            <li>Delete the line which connects the Step block to the Ball and Beam model block.</li>
            <li>Insert a Transfer Function block from the Continuous library to the left of the Ball and Beam block, and connect its output
               to the input of the Ball and Beam block.
            </li>
            <li>Edit the Transfer Function block and change its numerator to "[1 0.01]" and its denominator to "[1 5]".</li>
            <li>Change the label of the Transfer Function block to "Lead Compensator".</li>
            <li>Insert a Gain block to the left of the Lead Compensator and connect its output to the Lead compensator's input.</li>
            <li>Change the Gain value to "37.1".</li>
            <li>Insert a Sum block to the left of the Gain block and change it's value to "+-". Connect the output of the Sum to the input
               of the Gain block.
            </li>
            <li>Tap a line off the output of the Ball and Beam model and connect it to the negative input of the Sum.</li>
            <li>Connect the Step block to the positive input of the Sum block</li>
         </ul>
      </div>
      <p><img class="figure"vspace="5" hspace="5" src="Content/BallBeam/Simulink/Control/figures/ballcl001.png" alt=""> </p>
      <p>You can download our version of the closed-loop model here, <a href="Content/BallBeam/Simulink/Control/ballcl.mdl">ballcl.mdl</a>.
      </p>
      <h2>Closed-loop response<a name="10"></a></h2>
      <p>Start the simulation in Simulink. Open the scope window and hit the Autoscale button. You should see the following response.</p>
      <p><img class="figure"vspace="5" hspace="5" src="Content/BallBeam/Simulink/Control/figures/ballcl002.png" alt=""> </p>
      <p class="footer"><br>
         Published with MATLAB&reg; 7.14<br></p>
   </div>
</div>
<!--
##### SOURCE BEGIN #####
%% Ball & Beam: Simulink Controller Design
%
%% Simulink model
%
% The Simulink model for the ball and beam system was developed in the 
% < ?example=BallBeam&section=SimulinkModeling Ball & Beam: Simulink Modeling> 
% section, and can be downloaded here: <Content/BallBeam/Simulink/Control/ball.mdl ball.mdl>.
%
%% Open-loop response
% Before obtaining a step response, we must set the physical parameters
% Enter the following commands at the MATLAB prompt. 
%
%%

m = 0.111;
R = 0.015;
g = -9.8;
L = 1.0;
d = 0.03;
J = 9.99e-6;
  
%%
% We are now ready to run the simulation. Start the simulation by selecting 
% Start from the Simulation menu (or hit Ctrl-T). When the simulation is 
% finished, open the Scope by double clicking on it and hit the Scope's 
% autoscale button. You will see the following response. 
%
% <<Content/BallBeam/Simulink/Control/figures/ballol003.png>>
%
% From this plot it is clear that the system is unstable in open-loop
% causing the ball to roll right off the end of the beam. Therefore, some 
% method of controlling the ball's position in this system is required. 
% Later in this tutorial, we will implement a lead compensator. 
%
%% Extracting the linear model into MATLAB
%
% The Simulink model can be extracted into an equivalent state-space or
% transfer function model in MATLAB. This is done through the use of In1 and 
% Out1 blocks and the MATLAB function |linmod|. 
%
% The Simulink model can be extracted into an equivalent state-space or
% transfer function model in MATLAB. This is done through the use of In and 
% Out Connection blocks and the MATLAB function linmod. 
%
% At the MATLAB prompt, enter the following commands. You will see the
% following output providing the open-loop model of the system. 
%
%%

[A,B,C,D] = linmod('ball')
[num,den] = ss2tf(A,B,C,D)

%%
%
% We can verify this model by obtaining an open-loop step response. Enter
% the following command at the MATLAB prompt. You will see the following
% open-loop response: 
%
%%

step(num,den);

%% Building a lead compensator
%
% In the 
% < ?example=BallBeam&section=ControlRootLocus Ball & Beam: Root Locus Controller Design> page.
% a lead compensator was designed with a zero at -0.01 and a pole at 
% -5, with a gain of 37.1. We will now construct this controller in Simulink.
%
% * Bring up your open-loop Ball and Beam model window (or download ours here, <Content/BallBeam/Simulink/Control/ballol.mdl ballol.mdl>)
% * Delete the line which connects the Step block to the Ball and Beam model block.
% * Insert a Transfer Function block from the Continuous library to the left of the Ball and Beam block, and connect its output to the input of the Ball and Beam block.
% * Edit the Transfer Function block and change its numerator to "[1 0.01]" and its denominator to "[1 5]".
% * Change the label of the Transfer Function block to "Lead Compensator".
% * Insert a Gain block to the left of the Lead Compensator and connect its output to the Lead compensator's input.
% * Change the Gain value to "37.1".
% * Insert a Sum block to the left of the Gain block and change it's value to "+-". Connect the output of the Sum to the input of the Gain block.
% * Tap a line off the output of the Ball and Beam model and connect it to the negative input of the Sum.
% * Connect the Step block to the positive input of the Sum block 
% 
% <<Content/BallBeam/Simulink/Control/figures/ballcl001.png>>
%
% You can download our version of the closed-loop model here, <Content/BallBeam/Simulink/Control/ballcl.mdl ballcl.mdl>. 
%
%% Closed-loop response
%
% Start the simulation in Simulink. Open the scope window and hit the
% Autoscale button. You should see the following response. 
%
% <<Content/BallBeam/Simulink/Control/figures/ballcl002.png>>
##### SOURCE END #####
-->				</div>
				
				<div id="left">

					<ul class="section">
						<li class="heading" id="System">SYSTEM<img class="section_heading_arrow" src="Images/section_heading_arrow.png"/></li>
						<li class="item" id="SystemModeling"><a href="index9ee5.html?example=BallBeam&amp;section=SystemModeling">MODELING<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="SystemAnalysis"><a href="index136b.html?example=BallBeam&amp;section=SystemAnalysis">ANALYSIS<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
					</ul>
					
					<div class="section_break"></div>

					<ul class="section">
						<li class="heading" id="Control">CONTROL<img class="section_heading_arrow" src="Images/section_heading_arrow.png"/></li>
						<li class="item" id="ControlPID"><a href="index543f.html?example=BallBeam&amp;section=ControlPID">PID<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="ControlRootLocus"><a href="indexc9b8.html?example=BallBeam&amp;section=ControlRootLocus">ROOT&nbsp;LOCUS<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="ControlFrequency"><a href="index28b6.html?example=BallBeam&amp;section=ControlFrequency">FREQUENCY<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="ControlStateSpace"><a href="indexfa3e.html?example=BallBeam&amp;section=ControlStateSpace">STATE-SPACE<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="ControlDigital"><a href="index447e.html?example=BallBeam&amp;section=ControlDigital">DIGITAL<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
					</ul>
					
					<div class="section_break"></div>

					<ul class="section">
						<li class="heading" id="Simulink">SIMULINK<img class="section_heading_arrow" src="Images/section_heading_arrow.png"/></li>
						<li class="item" id="SimulinkModeling"><a href="indexc9d4.html?example=BallBeam&amp;section=SimulinkModeling">MODELING<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="SimulinkControl"><a href="index7413.html?example=BallBeam&amp;section=SimulinkControl">CONTROL<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
					</ul>
		
				</div>
			
				<div style="clear:both"></div>
				
				<div id="bottombar"><span style="color:#FF5500;font-weight:bold">.</div>
				
			</div>
			
		</div>
	
		<script type="text/javascript" src="script.js"></script>
						
	</body>
	

<!-- Mirrored from ctms.engin.umich.edu/CTMS/index.php?example=BallBeam&section=SimulinkControl by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:13:39 GMT -->
</html>

	inkControl by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:13:39 GMT -->
</html>

	v>
	
		<script type="text/javascript" src="script.js"></script>
						
	</body>
	

<!-- Mirrored from ctms.engin.umich.edu/CTMS/index.php?example=BallBeam&section=SimulinkControl by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:13:39 GMT -->
</html>

	inkControl by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:13:39 GMT -->
</html>

	pier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:13:39 GMT -->
</html>

	inkControl by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:13:39 GMT -->
</html>

	