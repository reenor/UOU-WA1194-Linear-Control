<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

	
<!-- Mirrored from ctms.engin.umich.edu/CTMS/index.php?aux=Extras_Notch by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:14:05 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>

		<script type="text/javascript" src="jquery.js"></script>
					
		<link rel='stylesheet' type='text/css' href='style.css' />
		<script type="text/javascript">
	
			var example = ""; 
			var section = ""; 
			var aux = "Extras_Notch"; 
			var effects = Boolean(1); 
			var tips = Boolean(1); 
			$.fx.off = !effects;
			
			$(document).keydown(function(e){
				if (!$("#search_field").is(":focus")){
					if (e.keyCode == 39) { 
						window.location = "indexb290.html?aux=Index_Extras";
					}
					if (e.keyCode == 37) { 
						window.history.back()
					}
				}
			});		
			
		</script>
			
		<meta http-equiv="Content-Type" Content="text/html; charset=utf-8" />
		<meta http-equiv="PRAGMA" Content="NO-CACHE" />
		
		<title>Control Tutorials for MATLAB and Simulink - Extras: Notch Filter</title>
			
	</head>

	<body>
	
		
		<div id="container">
		
			<form id="search_form"><input id="search_field" type="text" name="q" placeholder="Search Control Tutorials"/></form>
			<form class="option_form" method="post" onclick="submit()"><div>Effects</div><input type="hidden" name="effects" value="0"/><input type="checkbox" name="effects" value="1" checked='true' /></form>
			<form class="option_form" method="post" onclick="submit()"><div>Tips</div><input type="hidden" name="tips" value="0"/><input type="checkbox" name="tips" value="1" checked='true' /></form>	
				
			<div style="clear:both"></div>
		
			<div id="header">
		
				

				
				
				<div id="menu_container">
				
					<ul class="menu">
						<li class="heading" id="Tips"><a href="index80e7.html?aux=Extras_Tips">TIPS</a></li>
						<div class="collapse"><div class="expand">
						</div></div>
					</ul>
				
					<ul class="menu">
						<li class="heading" id="About"><a>ABOUT</a></li>
						<div class="collapse"><div class="expand">
							<li class="item" id="About_Tutorials"><a href="index64fe.html?aux=About_Tutorials">Tutorials</a></li>
							<li class="item" id="About_Contact"><a href="mailto:ControlTutorialsMatlabSimulink@gmail.com">Contact</a></li>
						</div></div>
					</ul>
					
					<ul class="menu">
						<li class="heading" id="Basics"><a>BASICS</a></li>
						<div class="collapse"><div class="expand">
							<li class="item" id="Basics_Matlab"><a href="index87b6.html?aux=Basics_Matlab">MATLAB</a></li>
							<li class="item" id="Basics_Simulink"><a href="indexe9ea.html?aux=Basics_Simulink">Simulink</a></li>
						</div></div>
					</ul>
					
					<ul class="menu">
						<li class="heading" id="Index"><a>INDEX</a></li>
						<div class="collapse"><div class="expand">
							<li class="item" id="Index_Tutorials"><a href="index5e52.html?aux=Index_Tutorials">Tutorials</a></li>
							<li class="item" id="Index_Commands"><a href="index111e.html?aux=Index_Commands">Commands</a></li>
							<li class="item" id="Index_Animations"><a href="indexc3c5.html?aux=Index_Animations">Animations</a></li>
							<li class="item" id="Index_Extras"><a href="indexb290.html?aux=Index_Extras">Extras</a></li>
						</div></div>
					</ul>
									
					<ul class="menu">
						<li class="heading" id="Next"><a href="indexb290.html?aux=Index_Extras">NEXT&nbsp;&#x25BA;</a></li>
						<div class="collapse"><div class="expand">
						</div></div>
					</ul>
											
				</div>

			</div>
			
			<div id="body_container">
			
				<div id="gradient_container"></div>
			
				<div id="top">
				
					<a href="index1304.html?aux=Home"><img id="CTMS_logo" src="Images/CTMS_logo.png"></a>
				
					<ul class="example">
					
						<li class="item" id="Introduction"><a href="indexf617.html?example=Introduction&amp;section=SystemModeling"><img class="icon" src="Images/Introduction_Icon.png"><div class="tab">INTRODUCTION</div></a></li>
						<li class="item" id="CruiseControl"><a href="index9b00.html?example=CruiseControl&amp;section=SystemModeling"><img class="icon" src="Images/CruiseControl_Icon.png"><div class="tab">CRUISE&nbsp;CONTROL</div></a></li>
						<li class="item" id="MotorSpeed"><a href="index9e20.html?example=MotorSpeed&amp;section=SystemModeling"><img class="icon" src="Images/MotorSpeed_Icon.png"><div class="tab">MOTOR&nbsp;SPEED</div></a></li>
						<li class="item" id="MotorPosition"><a href="index9ba6.html?example=MotorPosition&amp;section=SystemModeling"><img class="icon" src="Images/MotorPosition_Icon.png"><div class="tab">MOTOR&nbsp;POSITION</div></a></li>
						<li class="item" id="Suspension"><a href="index7abe.html?example=Suspension&amp;section=SystemModeling"><img class="icon" src="Images/Suspension_Icon.png"><div class="tab">SUSPENSION</div></a></li>
						<li class="item" id="InvertedPendulum"><a href="indexdeb1.html?example=InvertedPendulum&amp;section=SystemModeling"><img class="icon" src="Images/InvertedPendulum_Icon.png"><div class="tab">INVERTED&nbsp;PENDULUM</div></a></li>
						<li class="item" id="AircraftPitch"><a href="index1987.html?example=AircraftPitch&amp;section=SystemModeling"><img class="icon" src="Images/AircraftPitch_Icon.png"><div class="tab">AIRCRAFT&nbsp;PITCH</div></a></li>
						<li class="item" id="BallBeam"><a href="index9ee5.html?example=BallBeam&amp;section=SystemModeling"><img class="icon" src="Images/BallBeam_Icon.png"><div class="tab">BALL&nbsp;&amp;&nbsp;BEAM</div></a></li>
					
					</ul> 
		
				</div>
				
				<div id="content_container">
					<div class="content">
   <div class="content_fx">
      <h1>Extras: Notch Filter</h1>
      <!--introduction-->
      <!--/introduction-->
      <p>There are many times when the transfer function of a controlled process contains one or more pairs of complex-conjugate poles
         that lie close to the imaginary axis in the <i>s</i>-plane. This will result in an undesirable closed-loop system that is unstable or only lightly damped. For example, consider
         the following transfer function.
      </p>
      <p><span class="eqn_num">(1)</span><img class="display_eqn" src="Content/Extras/html/Extras_Notch_eq61133.png" alt="$$ P(s)=\frac{K}{(s+3)(s^2+s+10)}$$"></p>
      <p>If you were to generate the root locus of this system using the following code. You would generate the plot shown below.</p><pre class="codeinput">s = tf(<span class="string">'s'</span>);
P = 1/((s+3)*(s^2+s+10));
rlocus(P)
title(<span class="string">'Root Locus w/ Complex Poles Near the Imaginary Axis'</span>);
</pre><img class="figure"vspace="5" hspace="5" src="Content/Extras/html/Extras_Notch_01.png" alt=""> <p>As you can see, the plot shows that this system is only stable for a small region of the root locus (range of gains <i>K</i>). The portion that is stable will be only lightly damped (small <i>zeta</i>). By closing the loop and plotting the step response for this system in the portion of the root locus that is in the left-half
         plane (for a gain of one), you can see that the response is poor.
      </p><pre class="codeinput">sys_cl = feedback(P,1);
step(sys_cl)
title(<span class="string">'Step Response w/ Complex Poles Near the Imaginary Axis'</span>);
</pre><img class="figure"vspace="5" hspace="5" src="Content/Extras/html/Extras_Notch_02.png" alt=""> <p>There is a large overshoot, long settling time, and a large steady-state error. If you try to increase the gain, you will
         see that the response initially improves slightly, but becomes unstable before a desirable response can be achieved. Pure
         proportional control is obviously not a good way to control this system.
      </p>
      <p>One way to control this system is to design a controller with zeros near the undesirable, lightly-damped poles of the plant.
         These zeros can attenuate the effect of these poles. The dominant closed-loop poles of the system can then be placed in a
         more desirable position. Such a controller is called a <b>notch filter</b>. Before getting into the specifics of a notch filter, it should be noted that due to the nature of most systems, exact <a href="index1b0e.html?aux=Extras_PZ">pole/zero cancellation</a> cannot be obtained; nor should it be attempted. Approximate cancellation will give us many of the desirable characteristics
         without the pitfalls.
      </p>
      <p>For the example above, let's try placing the controller zeros slightly to the left of the lightly-damped plant poles (it is
         a good idea to pull the poles to the left instead of to the right). Try the following compensator.
      </p>
      <p><span class="eqn_num">(2)</span><img class="display_eqn" src="Content/Extras/html/Extras_Notch_eq28976.png" alt="$$ C(s)=\frac{s^2+1.5s+10}{s^2+20s+100}$$"></p>
      <p>As you can see, the roots of the numerator of the controller are almost the same as the complex poles of the denominator of
         the plant; the denominator of the controller introduces two poles at -10. If we implement this controller employing the code
         given below and run at the command line, we will generate a root locus plot like the one shown below.
      </p><pre class="codeinput">C_notch = (s^2+1.5*s+10)/(s^2+20*s+100);
rlocus(C_notch*P);
title(<span class="string">'Root Locus of Plant with a Notch Filter'</span>);
</pre><img class="figure"vspace="5" hspace="5" src="Content/Extras/html/Extras_Notch_03.png" alt=""> <p>The complex poles near the imaginary axis have been nearly canceled and more of the root locus is now in the left half plane.
         This means that a larger gain, <i>K</i>, can be employed, while maintaining stability. Furthermore, higher damping ratio can be achieved using lower gains (<i>zeta</i> term will be larger). If we close this loop (using the <tt>rlocfind</tt> command to find a specific gain), and inspect the step response, the system response should be much improved. Enter the command
         <tt>[k,poles] = rlocfind(C_notch*P)</tt> at the command line. When prompted to select a point, pick a point near one of the crosses in the following root locus. The
         gain <tt>k</tt> should be about 200.
      </p>
      <p><img class="figure"vspace="5" hspace="5" src="Content/Extras/figures/notch_rootlocus.png" alt=""> </p>
      <p>The closed-loop step response can then be generated using the following code.</p><pre class="codeinput">k = 200;
sys_cl = feedback(k*C_notch*P,1);
step(sys_cl);
title(<span class="string">'Step Response w/ Notch Filter and Loop Gain K= 200'</span>);
</pre><img class="figure"vspace="5" hspace="5" src="Content/Extras/html/Extras_Notch_04.png" alt=""> <p>Inspection of the above demonstrates that this is a much better step response. The overshoot and settling time are both smaller.
         There is still steady-state error, but that can be reduced with a <a href="index47e4.html?aux=Extras_Leadlag">lag controller</a> later. The placement of the poles in the notch filter is a matter of trial and error. They should be far enought to the left
         to pull the root locus into the left-half plane, but their exact location can be determined based on the desired pole locations
         and by experimentation.
      </p>
      <p class="footer"><br>
         Published with MATLAB&reg; 7.14<br></p>
   </div>
</div>
<!--
##### SOURCE BEGIN #####
%% Extras: Notch Filter
%%
% There are many times when the transfer function of a controlled process
% contains one or more pairs of complex-conjugate poles that lie close to
% the imaginary axis in the _s_-plane. This will result in an undesirable
% closed-loop system that is unstable or only lightly damped. For example,
% consider the following transfer function.   
%
%%
% $$ P(s)=\frac{K}{(s+3)(s^2+s+10)}$$
%
% If you were to generate the root locus of this system using the following
% code. You would generate the plot shown below.

s = tf('s');
P = 1/((s+3)*(s^2+s+10));
rlocus(P)
title('Root Locus w/ Complex Poles Near the Imaginary Axis');

%%
% As you can see, the plot shows that this system is only stable for a
% small region of the root locus (range of gains _K_). The portion that is
% stable will be only lightly damped (small _zeta_). By closing the loop and plotting the step
% response for this system in the portion of the root locus that is in the
% left-half plane (for a gain of one), you can see that the response
% is poor.

sys_cl = feedback(P,1);
step(sys_cl)
title('Step Response w/ Complex Poles Near the Imaginary Axis');   

%%
% There is a large overshoot, long settling time, and a large steady-state
% error. If you try to increase the gain, you will see that the response
% initially improves slightly, but becomes unstable before a desirable response can
% be achieved. Pure proportional control is obviously not a good way to
% control this system.   
%
% One way to control this system is to design a controller with zeros near
% the undesirable, lightly-damped poles of the plant. These zeros can
% attenuate the effect of these poles. The dominant closed-loop poles of the system can then
% be placed in a more desirable position.  
% Such a controller is called a *notch filter*. Before getting into the
% specifics of a notch filter, it should be noted that due to the nature of
% most systems, exact < ?aux=Extras_PZ pole/zero cancellation>
% cannot be obtained; nor should it be attempted. Approximate cancellation
% will give us many of the desirable characteristics without the pitfalls.
% 
% For the example above, let's try placing the controller zeros slightly to the left 
% of the lightly-damped plant poles (it is a good idea to pull the poles to the
% left instead of to the right). Try the following compensator.  
%
% $$ C(s)=\frac{s^2+1.5s+10}{s^2+20s+100}$$
%
%%
% As you can see, the roots of the numerator of the controller are almost
% the same as the complex poles of the denominator of the plant; the
% denominator of the controller introduces two poles at -10. If we
% implement this controller employing the code given below and run at the
% command line, we will generate a root locus plot like the one shown
% below.

C_notch = (s^2+1.5*s+10)/(s^2+20*s+100);
rlocus(C_notch*P);
title('Root Locus of Plant with a Notch Filter');
%%
% The complex poles near the imaginary axis have been nearly canceled and
% more of the root locus is now in the left half plane. This means that
% a larger gain, _K_, can be employed, while maintaining stability.
% Furthermore, higher damping ratio can be achieved using lower gains (_zeta_ term will be
% larger). If we close this loop (using the |rlocfind| command to find a
% specific gain), and inspect the step response, the system response should 
% be much improved. Enter the command |[k,poles] = rlocfind(C_notch*P)|
% at the command line. When prompted to select a point, pick a point near
% one of the crosses in the following root locus. The gain |k| should be
% about 200. 
%
% <<Content/Extras/figures/notch_rootlocus.png>>
%
%%
% The closed-loop step response can then be generated using the following
% code.

k = 200;
sys_cl = feedback(k*C_notch*P,1);
step(sys_cl);
title('Step Response w/ Notch Filter and Loop Gain K= 200');

%%
% Inspection of the above demonstrates that this is a much better step
% response. The overshoot and settling time are 
% both smaller. There is still steady-state error, but that can be reduced
% with a < ?aux=Extras_Leadlag lag controller> later. The
% placement of the poles in the notch filter is a matter of trial and error.
% They should be far enought to the left to pull the root locus into the
% left-half plane, but their exact location can be determined based on the
% desired pole locations and by experimentation.      
##### SOURCE END #####
-->				</div>
				
				<div id="left">

					<ul class="section">
						<li class="heading" id="System">SYSTEM<img class="section_heading_arrow" src="Images/section_heading_arrow.png"/></li>
						<li class="item" id="SystemModeling"><a href="indexf617.html?example=Introduction&amp;section=SystemModeling">MODELING<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="SystemAnalysis"><a href="indexa13b.html?example=Introduction&amp;section=SystemAnalysis">ANALYSIS<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
					</ul>
					
					<div class="section_break"></div>

					<ul class="section">
						<li class="heading" id="Control">CONTROL<img class="section_heading_arrow" src="Images/section_heading_arrow.png"/></li>
						<li class="item" id="ControlPID"><a href="index6e33.html?example=Introduction&amp;section=ControlPID">PID<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="ControlRootLocus"><a href="indexe528.html?example=Introduction&amp;section=ControlRootLocus">ROOT&nbsp;LOCUS<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="ControlFrequency"><a href="index7f35.html?example=Introduction&amp;section=ControlFrequency">FREQUENCY<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="ControlStateSpace"><a href="index9b18.html?example=Introduction&amp;section=ControlStateSpace">STATE-SPACE<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="ControlDigital"><a href="index4e79.html?example=Introduction&amp;section=ControlDigital">DIGITAL<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
					</ul>
					
					<div class="section_break"></div>

					<ul class="section">
						<li class="heading" id="Simulink">SIMULINK<img class="section_heading_arrow" src="Images/section_heading_arrow.png"/></li>
						<li class="item" id="SimulinkModeling"><a href="index5af4.html?example=Introduction&amp;section=SimulinkModeling">MODELING<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
						<li class="item" id="SimulinkControl"><a href="index87ee.html?example=Introduction&amp;section=SimulinkControl">CONTROL<img class="section_arrow" src="Images/section_arrow.png"/></a></li>
					</ul>
		
				</div>
			
				<div style="clear:both"></div>
				
				<div id="bottombar"><span style="color:#FF5500;font-weight:bold">.</div>
				
			</div>
			
		</div>
	
		<script type="text/javascript" src="script.js"></script>
						
	</body>
	

<!-- Mirrored from ctms.engin.umich.edu/CTMS/index.php?aux=Extras_Notch by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:14:07 GMT -->
</html>

	tras_Notch by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:14:07 GMT -->
</html>

	
			</div>
			
		</div>
	
		<script type="text/javascript" src="script.js"></script>
						
	</body>
	

<!-- Mirrored from ctms.engin.umich.edu/CTMS/index.php?aux=Extras_Notch by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:14:07 GMT -->
</html>

	tras_Notch by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:14:07 GMT -->
</html>

	pier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:14:07 GMT -->
</html>

	tras_Notch by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2014 21:14:07 GMT -->
</html>

	